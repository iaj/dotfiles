--- Log opened Thu Jan 20 14:44:45 2011
14:44 --- Query: Starting query with rudi_s on FreeNode
14:44 iaj: wooohoo
--- Log closed Thu Jan 20 14:50:11 2011
--- Log opened Thu Jan 20 19:28:56 2011
19:28 --- Query: Starting query with rudi_s on FreeNode
19:29 iaj: howdy hoh
--- Log closed Thu Jan 20 19:34:59 2011
--- Log opened Thu Jan 20 21:01:00 2011
21:01 --- Query: Starting query with rudi_s on FreeNode
21:01 rudi_s: Bin wieder da.
21:01 iaj: Du warst langsam mein Freund
21:01 iaj: bist du auch bei server4you?
21:01 rudi_s: ^^
21:01 rudi_s: Ja.
21:02 iaj: Dieser virtuelle Server?
21:03 iaj: Hab jetzt auf beiden servern meinen github drauf.. aber ich muss doch sicher auf dem neuen noch irgendwie was reggen um pushen zu können oder?
21:04 rudi_s: Hab nen root-Server bei denen.
21:04 rudi_s: "meinen github"?
21:04 iaj: Also hab da bei meinem github
21:04 iaj: den pubkey geadded von dem neuem Server
21:05 rudi_s: Dann geht das ohne Probleme.
21:05 iaj: kann ich auch pushen?
21:06 rudi_s: Klar, wieso nicht? (Ich hoffe nur du pushst keine sensitiven Daten zu github.)
21:07 iaj: Meine config files :)
21:08 rudi_s: Ok (solange da keine Passwörter etc. drin sind.)
21:08 iaj: Boa das Problem ist mein VIM basiert auf tausenden plugins.. die ich alle in ~git hab
21:08 iaj: aber wenn ich nun git pulle...
21:08 iaj: sind die alle nicht da weil die verlinkung nicht stimmt
21:10 rudi_s: Dann musst du die Verlinkung anpassen.
21:11 rudi_s: Am besten baust du es so, dass du nur .vim und .vimrc verlinken musst.
21:11 iaj: Wie pass ich die am besten an ?
21:11 rudi_s: Kommt darauf an wie sie aussieht ....
21:11 iaj: egtl auch dumm die Files in ~/git zu halten oder?
21:11 iaj: seh ja dank zsh eh sofort wenns ein repo is
21:12 iaj: Ich benutz ja deine Einstellung von zsh für den precmd
21:12 iaj: aber ich seh kein @ beim SSHn
21:12 iaj: :(
21:12 rudi_s: Hm, sollte eigentlich gehen. env sollte dir die Variablen (SSH_*) auch zeigen.
21:13 rudi_s: Ich hab meine in ~/dotfiles
21:13 rudi_s: (Oder ~/.dotfiles auf manchen Rechnern.)
21:13 rudi_s: Und dann ein Skript, das mir die Verlinkung anlegt.
21:13 iaj: Echt? Wie sieht das script aus?
21:15 rudi_s: Ist nicht schwer, sieht dann z.B. für meine VCS-Konfiguration so aus: 
21:15 rudi_s: . ../lib.sh
21:15 rudi_s: if installed git; then generate m4 gitconfig -DGITIGNORE=`pwd`/gitignore -DOS=`os` link gitconfig ~/.gitconfig
21:15 rudi_s: fi
21:15 rudi_s: if installed tig; then link tigrc ~/.tigrc
21:15 rudi_s: fi
21:15 rudi_s: if installed hg; then generate m4 hgrc -DHGIGNORE=`pwd`/hgignore -DOS=`os` link hgrc ~/.hgrc
21:15 rudi_s: fi
21:15 rudi_s: Und in lib.sh stehen dann die Funktionen installed und link.
21:19 iaj: Ahhhww.. ok :)
21:20 rudi_s: Wenn du die Funktionen haben willst, sag Bescheid.
21:21 iaj: Ich schau grad erstmal das alle symlinks normale Ordner sind
21:22 iaj: in vim
21:22 iaj: zsh hab ich schon :\
21:22 rudi_s: Symlinks normale Verzeichnise? Warum das?
21:23 iaj: ich hab zb in .vim/bundle/fuzzy hin
21:23 iaj: drin*
21:23 iaj: und der verlinkt auf ~/git/fuzzy
21:23 iaj: wenn ich das Teil dann git pulle auf dem SSH server
21:23 iaj: dann zeigt der Verweis ins leere
21:23 rudi_s: Und? Dann baust du ein Skript dass das für dich macht.
21:23 rudi_s: Solange alles in ~/git liegt ist das doch kein Problem.
21:23 iaj: Wie?
21:24 iaj: Wie soll dieses script aussehen
21:24 rudi_s: Ich mach das nicht mit Git, sondern ich bau mir einfache in tarball und entpacke das auf dem Server.
21:24 rudi_s: Siehe oben?!
21:24 iaj: Achso.. hmm ich blick es irgendwie nicht so ganz
21:25 rudi_s: Naja, du brauchst doch nur ein "Programm" das dir die symbolischen Links baut. Also Vim auf und folgendes rein:
21:26 rudi_s: ln -s ~/git/fuzzy ~/.vim/bundley/fuzzy 
21:26 rudi_s: ln -s ..
21:26 rudi_s: ..
21:26 rudi_s: chmod +x 
21:26 rudi_s: Und rein ins Git Repository, und dann führst du es auf dem Server aus.
21:26 iaj: Aber dann muss ich doch alle bundles
21:26 iaj: erstmal git pullen
21:26 iaj: auf dem SSH server
21:27 rudi_s: Und? Da du sie eh all auf github hast ist das doch ein Problem, packst du das einfach vorher in das Skript rein.
21:27 iaj: ich hab ja nur meine dotfiles in github.. nicht aber die ganzen repos auf die ich verlinke
21:28 iaj: die ganzen plugins fliegen ja bei mir in ~git wahrlos rum.. und in .vim/bundle sind dann die symlinks dorthin
21:28 rudi_s: Naja, dann geht es natürlich nicht. Also entweder rein ins Git-Repo (IMHO keine gute Idee, besser eigene Repos), oder eben einfach als Tarball und auf den Server und dann fetchen.
21:28 iaj: kann ich ne tarball machen die alle dateien schnappt?
21:28 iaj: nicht nur die symlinks
21:29 rudi_s: man tar
21:29 rudi_s: /link
21:30 iaj: Ahhh cool :-)
21:30 iaj: Wie sieht dein Standart tar einpack befehl aus?
21:30 rudi_s: *Standard
21:30 iaj: lol
21:30 iaj: ich wusste es !
21:30 rudi_s: ;-)
21:31 rudi_s: man tar
21:31 rudi_s: cvf nimmt man normalerweise
21:31 rudi_s: Du natürlich noch das dereference.
21:33 iaj: tar cvfH .vim vim.tar.gz
21:33 iaj: -R
21:33 iaj: noch 
21:33 iaj: wohl :D
21:33 rudi_s: cvfh
21:33 rudi_s: -R ?
21:33 rudi_s: man tar und such mal nach -R
21:34 rudi_s: Und die tar-Datei kommt zuerst, dann das .vim
21:35 iaj: Opsa
21:36 iaj: was machen nur installed und link :D
--- Log closed Thu Jan 20 21:41:59 2011
--- Log opened Thu Jan 20 21:42:19 2011
21:42 rudi_s: Sollte klar sein .. ;-) Willst du die Implementierung? Ist aber ziemlich auf meine Bedürfnisse zugeschnitten.
21:45 iaj: Ansehen will ich mirs zumindest mal :)
21:46 iaj: Wie kann ich in zshrc testen ob ich lokal bin oder SSH?
21:46 rudi_s: Wie sonst auch, über die SSH_* Variablen.
21:47 rudi_s: http://paste.debian.net/105190/
21:47 rudi_s: Ist etwas umständlich geschrieben damit es auch auf (fast) allen Shells läuft.
21:48 iaj: über die SSH variablen?
21:48 rudi_s: Ja.
21:48 rudi_s: env | grep SSH hilft dir weiter.
21:49 iaj: mmmmhh ok verstehe SSH_CONNECTION ist beleegt zb... mh aber gibt's da nicht noch ne bessere Abfrage fürn zsh?
21:50 rudi_s: Warum sollte das nötig sein?
21:50 rudi_s: if [[ -n $SSH_CONNECTION ]]; then ..
21:50 rudi_s: Funktioniert einwandfrei.
21:50 iaj: okay dann mach ich das so
21:50 iaj: noch was wie guck ich ob nen bestimmtes file im pfad erreichbar ist
21:50 iaj: also zb 'ist foo ausführbar?'
21:51 rudi_s: -x
21:51 iaj: if [[ -x foo ]]; then ?
21:51 rudi_s: Falls du mit im Pfad in $PATH meinst, nimm zsh's which.
21:51 iaj: if [[ -x `which foo` ]]; then ?
21:53 iaj: http://paste.pocoo.org/show/324054
21:53 iaj: würde also funzen?
21:56 iaj: mist
21:56 iaj: diese dummen discs
21:56 iaj: if [[ -x `which pdflatex` ]]; then alias pl='pdflatex' fi
21:56 rudi_s: Nein.
21:56 iaj: kann man das auf eine Zeile packen?
21:57 rudi_s: Lies doch bitte was ich oben geschrieben habe.
21:57 iaj: Du meinst dein Beispiel der lib.sh?
21:58 rudi_s: Nein.
21:58 rudi_s: 21:53 <rudi_s> if `which foo > /dev/null`; then ..
21:58 iaj: Hatte gerade nen disc
21:58 iaj: Das hab ich nicht bekommen
21:58 rudi_s: Ok.
21:58 rudi_s: Und für das zweite so: `which pdflatex > /dev/null` && alias pl=pdflatex
21:58 iaj: Knan ich das auf eine Zeile packen?
21:58 iaj: if [[ -x `which pdflatex > /dev/null` ]]; then alias pl='pdflatex' 
21:58 rudi_s: Aber wieso machst du das?
21:59 rudi_s: Einfach alias pl=pdflatex, wenn du dann pl schreibst, merkst du schon, dass es nicht installiert ist ;-)
21:59 rudi_s: Das ist schneller und einfacher.
21:59 iaj:     alias vim='/Applications/MacVim.app/Contents/MacOS/Vim'
21:59 iaj: sowas war halt dumm vorher ;)
21:59 rudi_s: Naja, dafür musst du halt das OS-Prüfen.
22:00 rudi_s: Die Existenz zu prüfen ist da zwar auch möglich, aber nicht so ne gute Idee.
22:00 rudi_s: Und wenn dann dafür kein which sondern einfach ein -x. [[ -x /Applications/MacVim.app .. ]] && alias ..
22:00 iaj: Hmm wie würde das aussehen?
22:00 rudi_s: Hab ich auch in lib.sh ;-)
22:00 iaj: [[ ]] liefert ja nur TRUE dann zurück?
22:01 rudi_s: Ja, dafür ist ja dann das &&
22:01 iaj: Achso.. das funktioniert dann so
22:01 rudi_s: Könnte man noch etwas verschönen (z.B. nur einmal `uname` aufrufen), aber da das nicht in meine Shell-Skripten läuft ist mir das egal.
22:01 rudi_s: http://paste.debian.net/105191/
22:01 iaj: Wie negiere ich if [[ -n $SSH_CONNECTION ]]
22:02 rudi_s: Falls du es in der zsh verwenden willst, mach das besser anders.
22:02 rudi_s: man test
22:02 rudi_s: In Zsh besser über die $OSTYPE Variable:
22:02 rudi_s: [[ $OSTYPE == linux* ]] && ...
22:02 rudi_s: Gibts auch für Mac aber ich weiß den String nicht.
22:02 rudi_s: Einfach mal echo $OSTYP.
22:02 rudi_s: *$OSTYPE
22:03 iaj: darwin
22:03 iaj: ahhhww ok
22:03 iaj: Kann ich auch [[ ]] && und dann mehrere anweisungen?
22:04 rudi_s: Nicht direkt, aber mit && { } sollte es gehen.
22:06 iaj: hmmmmmm was sollte hiermit wohl mal erreicht werden :O
22:06 iaj:     for i in /proc/<->/stat
22:07 rudi_s: Das holt sich stat zu allen Prozessen, aber nur auf Linux.
22:08 iaj: Ahh danke :)
22:08 rudi_s: np
22:08 iaj: Hmm also [[ -n ... ] heisst soviel wie, ist Variable belegt?
22:09 rudi_s: -n STRING the length of STRING is nonzero
22:09 rudi_s: *".." aus man test
22:10 iaj: [[ ... ]] && { }   ist dasselbe wie if [[ ... ]]; then ... 
22:10 rudi_s: Ja.
--- Log closed Thu Jan 20 22:15:59 2011
--- Log opened Thu Jan 20 22:23:34 2011
22:23 iaj: Dann will ich ma tweaken :)
22:24 rudi_s: ;-)
22:25 rudi_s: Aber du solltest das if [[ .. ]]; then immer verwenden wenn du mehr als 2 Befehle oder so hast.
22:25 rudi_s: Das ist einfach viel lesbarer.
22:26 iaj: [[ $OSTYPE == darwin* ]] && function man { mvim --remote-send "<ESC>:Man $*<CR>" ; osascript -e 'tell application "MacVim" to activate' 
22:26 iaj: das funzt aber so oda?
22:26 rudi_s: ?
22:26 rudi_s: Wieso so hässlicH?
22:26 rudi_s: Mit if [[ ]] then ist das viel schöner.
22:27 rudi_s: Das function besser nicht verwenden, schöner ist man() { ... }
22:27 rudi_s: Außerdem kannst du dann alle Mac-only Befehle reinpacken.
22:28 iaj: if [[ $OSTYPE == darwin* ]]; then  man() { mvim --remote-send "<ESC>:Man $*<CR>" ; osascript -e 'tell application "MacVim" to activate' }
22:28 iaj: fi
22:28 iaj: so meinst du dann eher?
22:28 iaj: Wie meinst du mac onlly?
22:28 iaj: ach oben
22:28 rudi_s: Ja, besser so (und natürlich das man() { auf ne eigene Zeile und schön eingerückt ;-))
22:29 iaj: Ists ich weiss nurnich
22:29 iaj: t
22:29 iaj: warum ers hier nicht anzeigt
22:29 rudi_s: Kein Problem, liegt am pasten (und ist in IRC besser).
22:30 iaj: Wie meinen?
22:30 rudi_s: Das es als eine Zeile ankommt.
22:30 iaj: soll ich statt function foo
22:31 iaj: immer foo() machen?
22:31 rudi_s: Ja.
22:31 iaj: voll komisch
22:31 iaj: man() {
22:31 rudi_s: Wieso?
22:31 iaj: und es bleibt dann
22:31 iaj: danach
22:31 iaj: auf der selben zeile
22:31 iaj: also selbe indent
22:31 iaj: wie ungewohnt :\
22:31 rudi_s: Also bei mir nicht.
22:32 iaj: echt?
22:32 iaj: Och noe nicht so ein Problem schon wieder
22:32 iaj: equalprg nicht gesetzt
22:32 iaj: Watt hab ich wieder falsches drin :D
22:33 rudi_s: ^^ Wieso setzt du das? Das macht doch ftplugin für dich.
22:33 iaj: Ja schon
22:33 iaj: http://paste.pocoo.org/show/324066
22:33 iaj: will nur wissen worans diesmal wieder liegt
22:34 rudi_s: :verbose set equalprg
22:34 iaj: ist leer
22:34 iaj: bei dir?
22:35 rudi_s: Bei mir auch, das sollte also passen.
22:36 iaj: Liegts wohl am ok
22:36 iaj: mit =ap machters
22:36 rudi_s: ok?
22:36 iaj: aber == nicht
22:36 iaj: wäh
22:36 iaj: die blöden functions
22:36 iaj: werden aber falsch indendet :D
22:36 iaj: naja raus damit
22:37 rudi_s: ? Funktioniert bei mir alles super.
22:37 iaj: function abc { geht?
22:38 rudi_s: Nein.
22:38 rudi_s: Aber das sollte man eh nicht verwenden.
22:41 iaj: http://paste.pocoo.org/show/324068
22:42 iaj: wieso wird das so komisch eingerückt?
22:47 rudi_s: Sieht doch gut aus.
22:47 rudi_s: Wieso verwendest du da ein ( ) ?
22:49 iaj: ka...
22:49 iaj: schon immer isses so :D
22:49 iaj: noch ne Frage
22:49 iaj: http://paste.pocoo.org/show/324071
22:49 iaj: das hab ich im Inet aufgegabelt
22:50 iaj: für mutual exclusion - aber wann wird der Ordner in tmp denn wieder geloescht?
--- Log closed Thu Jan 20 22:56:00 2011
--- Log opened Thu Jan 20 22:57:54 2011
22:57 iaj: noch da?
22:58 rudi_s: Ja.
22:58 iaj: bei mir macht er im ssh zwar das @ davor
22:58 iaj: dahinter aber ein :euve20098 und nicht den processnamen
22:58 rudi_s: Böse böse Sache, so geht das nicht.
22:58 iaj: Ach
22:58 iaj: das hast du so eingestellt
22:58 iaj: hahaah
22:58 iaj: Grade erst gesehen
22:58 rudi_s: Nein, ich meinte das mutex.
22:59 rudi_s: Das ist so beabsichtigt wenn es ne Screen session ist, damit man sieht woe die screen session läuft.
22:59 iaj: den namen da kann ichd en auch umstellen?
22:59 iaj: hostname ändern einfach oder?
23:01 rudi_s: Ja.
23:02 rudi_s: Geht aber nur auf deinem Computer, nicht auf anderen.
23:03 iaj: Wie meinst?
23:03 rudi_s: Du kannst nicht den hostname von anderen Computern ändern.
23:04 rudi_s: Wegen dem mutex, das ist recht problematisch zu implementieren wegen der Wettlauf und Handle-Situation.
23:09 iaj: Benutzt du einen andern screen escape auf dem SSH?
23:09 iaj: oder C-a a ...?
23:10 rudi_s: Nein. C-a a
--- Log closed Thu Jan 20 23:14:17 2011
