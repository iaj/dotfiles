--- Log opened Fri Jan 14 08:48:30 2011
--- Log closed Fri Jan 14 08:48:30 2011
--- Log opened Fri Jan 14 08:53:49 2011
08:53 --- Users 157 nicks [0 ops, 0 halfops, 0 voices, 157 normal]
08:54 --- wuehlmau1 is now known as wuehlmaus
08:55 --- Channel #zsh was synced in 84 seconds
--- Log closed Fri Jan 14 09:16:01 2011
--- Log opened Fri Jan 14 09:26:23 2011
09:26 --- Users 158 nicks [0 ops, 0 halfops, 0 voices, 158 normal]
09:27 --- Channel #zsh was synced in 80 seconds
11:10  tsdh: Hi
11:14  tsdh: I have a file with lines like "OfrSrch=Typ;IValue=228: ProfilEinzelDlg_Reisendentyp0;". So there are key=value pairs separated by ";".  What I'd like to do is to write all values of any KEY into a file KEY.txt.  Additionally, if there are multiple pairs in one line, all values should be put into a KEY1_KEY2.txt file (separated with a ;).  Any hints on how to do that?
11:21  tsdh: How do I split some string?
11:23  asyd:  var="a:b:c" ; print -l ${(s,:,)var}
11:25  tsdh: asyd: Hm, so (s,:,) means "split at : and remove the :"?
11:26  asyd: well means, create an array by splitting using :
11:31  tsdh: What manual section is that?
11:31  asyd: 14. Expansion 
11:32  tsdh: Thanks
11:39  tsdh: How can I append a value to an array?
11:42  et: array=($array value)
11:43  tsdh: Thanks
11:48  alparo: hi. where should populate my PATH variable, if I want to add there ~/bin ? I have option ZDOTDIR=$HOME/.config/zsh in my ~/.zshenv
11:48  ft: tsdh: array+=(somethingnew)
11:52  tsdh: ft: Oh, that was to obvious. :-)
11:56  ft: if you need to be really backwards compatible, use what `et' said, though.
12:03  ft: += was introduced somewhere in 4.2.x early, though.
12:11 --- Yorokobi_ is now known as Yorokobi
12:13  tsdh: Is there something like continue in zsh loops?
12:14  Mikachu: did you try 'continue'?
12:15  tsdh: No. ;-)
12:24  tsdh: Why does that if segfault zsh? http://paste.lisp.org/display/118617
12:24  tsdh: If I comment the first if line and the corresponding fi, it works just fine...
12:26 --- f|l is now known as f8l
12:34  ft: tsdh: 4.3.11?
12:36  tsdh: ft: yes
12:36  ft: tsdh: upgrade to HEAD then.
12:37  ft: There's a bug in the regex operator parsing.
12:37  tsdh: ft: Well, I guess I'll wait for the next release then.
12:37  ft: (or, alternatively, don't use the regex operator (=~). Zsh's pattern matching is just as powerful.
12:38  tsdh: ft: How can I work around that bug?  I tried using == "*CONNECT*", but that doesn't match lines containing CONNECT somewhere...
12:38  Mikachu: tsdh: use -regex-match
12:38  ft: don't quote.
12:38  ft: [[ $foo == *CONNECT* ]]
12:41  tsdh: Ah, that works fine.  It seems that my script now does what I want.  Thank you all.
12:43  tsdh: Is there something to make some array a set, e.g., wipe duplicate values?
12:44  ft: typeset -U
12:44  ft: ...was it -U? I forget.
12:44  ft: man zshbuiltins
12:47  tsdh: ft: Yes, that is it.
13:02  tsdh: Hm, I do "files=(); typeset -U files;" and later "files+=${file}", but in the end files contains duplicates.  What am I doing wrong?
13:09  Lantizia: Hey... any ideas how I quit out of a zsh screen session?
13:09  teratorn: tsdh: foo+=( ${file} )
13:09  Lantizia: I tried Ctrl+A and D but no luck
13:10  teratorn: Ctrl+D should work
13:11  Lantizia: teratorn, nope
13:11  Lantizia: this is via ssh if that makes a difference though
13:12  Lantizia: if this was GNU screen executed from bash over SSH I'd have no problem with ctrl+a and d
13:12  tsdh: teratorn: Makes no difference.  There are still duplicates...
13:14  FauxFaux: Lantizia: Screen in zsh and screen in bash are identical.
13:15  Lantizia: FauxFaux, teratorn, ok ctrl+a then ctrl+d does work... as long as I'm not running a bash script at the same time
13:15  Lantizia: well something is different
13:15  FauxFaux: It's possible something's messed up your keyboard settings, but it seems unlikely.
13:16  Lantizia: this isn't the screen I'm used to - something is messed up
13:16  Lantizia: if I run bash... and then screen... it looks different... it's not GNU Screen
13:20  teratorn: well you can kill your ssh by pressing ~ followed by .
13:20  teratorn: I think
13:20  teratorn: press Enter first, actually
13:20  teratorn: tsdh: odd
13:22  tsdh: But THAT works: x=(); typeset -U x; x+=foo; x+=bar; x+=foo; echo ${x}
13:23  tsdh: Oh, I'm stupid.  I did typeset -U ${files} in the script...
13:28  teratorn: Lantizia: dunno... C+d kills a zsh run in a screen over ssh for me just fine :)
13:30  Lantizia: it's ok I figured out another way, I don't normally even use zsh it's just this silly firewall that does
14:30  Juri_Agarin: Is there a reason that when installing zsh from source, etcdir does not default to PREFIX/etc but instead to /etc ? E.g Git installation defaults etcdir to PREFIX/etc.
14:32  ft: it's always been like that. also, different versions of the shell in different places may use the same config files.
14:33  ft: if you disagree, you can alter the directory via configure options.
14:36  Mikachu: all autoconf things default to $prefix/ for all dirs
14:38  ft: zsh uses --enable-etcdir, which is a non-default option.
14:39  ft: and it defaults to /etc, unless I'm terribly mistaken.
14:40  Juri_Agarin: ft: you are correct, atleast according to the INSTALL-file. 
14:40  Mikachu: ah
14:41  Juri_Agarin: I was wondering if that should be patched to behave in the expected(?) way or are there some valid reasons for this choice?
14:49  ft: it probably won't change. unless you make a convicing argument to -workers as to why it should.
14:55  Juri_Agarin: I still can't get it to work, here is what I tried:
14:55  Juri_Agarin: ./configure --prefix=$CONTRIB/zsh --enable-etcdir=$CONTRIB/zsh/etc --enable-zshrc=$CONTRIB/zsh/etc/zshrc
14:55  Juri_Agarin: Then make install
14:58  Mikachu: maybe you want to set --sysconfdir too?
15:04  Juri_Agarin: Mikachu: thanks, I'll try that!
15:05  Mikachu: probably won't help
15:07  Juri_Agarin: It didn't :-(
15:09  Juri_Agarin: Am I still doing something wrong or is this just bound to fail?
15:09  Juri_Agarin: I'd like to get this done, as I'm administering a contrib-zsh in a restricted environment, so I can't modify the global zshrc file in /etc
15:17  ft: you did rebuild zsh with the changed options, right?
15:25  Juri_Agarin: Hmm.. I did not do make clean, I'll try again..
15:25  Juri_Agarin: No success with make clean either.
15:26  ft: I don't have the time to check right now, I'm at work. sorry. you may want to try the mailinglist in case nobody steps forward in here.
15:29  Juri_Agarin: ft: Thanks for your help!
15:46  Juri_Agarin: Actually, my bad. It worked. I was just fooled by it not creating any default-files to the etcdir-directory. Now everything is fine, thanks again! :-)
16:09 --- mren|off is now known as mren
17:36  iaj: is there any way to have a mapping in vicmd mode to scroll a page up? :S
17:38  thrig: what do you mean by "scoll" and "page up" in the context of zsh?
17:40  iaj: well I just need to have something like PAGE-UP (what the key normally does) to be bound to C-B in vimcd mode.
17:40  iaj: vicmd*
17:41  thrig: sounds more like a map-a-keycode-to-something-in-whatever-the-terminal-is question
17:41  iaj: so that can't be done with zsh?
17:41  iaj: my iTerm doesn't offer to bind a-z + CONTROL :(
17:42  iaj: only key:   hexcode
--- Log closed Fri Jan 14 23:44:11 2011
--- Log opened Fri Jan 14 23:55:02 2011
23:55 --- Users 159 nicks [0 ops, 0 halfops, 0 voices, 159 normal]
23:56 --- Channel #zsh was synced in 76 seconds
23:58  cirwin: when writing a completion widget, can I have colours in the descriptions array in a call to compadd?
23:59  cirwin: I tried using a colorized git log output
23:59  cirwin: but I just see escape codes
23:59  Mikachu: no
23:59  cirwin: that's boring of it
23:59  cirwin: ah well
--- Log closed Sat Jan 15 00:00:40 2011
