--- Log opened Sun Jan 16 00:00:51 2011
--- Log closed Sun Jan 16 00:10:19 2011
--- Log opened Sun Jan 16 00:10:39 2011
00:10 --- Users 164 nicks [0 ops, 0 halfops, 0 voices, 164 normal]
00:12 --- Channel #zsh was synced in 88 seconds
00:55 --- dindinx_ is now known as dindinx
00:58  TheBrayn: eh a bit late: yes like logrotate
00:58  TheBrayn: well a bit different
00:58  TheBrayn: I don't want to loose any logs
00:58  Mikachu: i just copy .history .history-yy-mm-dd in cron twice per month
01:13 --- mren is now known as mren|off
--- Log closed Sun Jan 16 02:10:38 2011
--- Log opened Sun Jan 16 02:11:01 2011
02:11 --- Users 159 nicks [0 ops, 0 halfops, 0 voices, 159 normal]
02:12 --- Channel #zsh was synced in 85 seconds
03:09 --- peth_ is now known as peth
--- Log closed Sun Jan 16 12:29:55 2011
--- Log opened Sun Jan 16 12:30:16 2011
12:30 --- Users 152 nicks [0 ops, 0 halfops, 0 voices, 152 normal]
12:31 --- Channel #zsh was synced in 85 seconds
13:05  tlonim: how do i customise what is printed for set -x ?
13:05  tlonim: for instance i dont want any info other than commands to be printed
13:06  tlonim: i dont want anything to left of '>'   .. +/bin/zsh:45> mpc toggle
13:06  Mikachu: PS4
13:07  tlonim: ok
13:07  tlonim: thanks
14:24 --- mren|off is now known as mren
--- Log closed Sun Jan 16 14:52:29 2011
--- Log opened Sun Jan 16 14:52:49 2011
14:52 --- Users 156 nicks [0 ops, 0 halfops, 0 voices, 156 normal]
14:54 --- Channel #zsh was synced in 85 seconds
15:09 --- dashavoo_ is now known as dashavoo
16:25  djweezy: hi im trying to write a zsh script.  when i put #!/bin/zsh
16:25  djweezy: as the frst line i get zsh: /home/djweezy/.bin/streams: bad interpreter: /bin/zsh^M: no such file or directory
16:26  TheBrayn: false line endings
16:26  TheBrayn: ^M
16:27  djweezy: i think it was a problem with the encoding
16:27  djweezy: i tried a starting a new file and it worked
16:27  djweezy: thanks
16:28  nicoulaj: is there a simple way to have a stack where I can push an pop ?
16:47  nicoulaj: Is it allowed to have multiple times the same key in an associative array ? (for representing a graph)
16:48 --- Bucciarati_ is now known as Bucciarati
17:12  peth: nicoulaj: yes. and no.
17:12  peth: although that kind of depends on your definition of simple.
17:13  peth: using an array and writing to simple helper functions should do that, right
17:13  peth: *two
17:39  nicoulaj: peth: yes, that what I did, thanks
17:39  nicoulaj: But I'm kinda stuck on the graph representation thing...
17:40  peth: it's not that i don't think zsh can do it, but are you sure you wouldn't be happy using something else for that?
17:40  peth: happier even
17:40  nicoulaj: you can't have multiple times the same key, and you can't have multidimensionnal arrays :/
17:40  nicoulaj: peth: no, I can't
--- Log closed Sun Jan 16 18:52:39 2011
--- Log opened Sun Jan 16 18:53:02 2011
18:53 --- Users 153 nicks [0 ops, 0 halfops, 0 voices, 153 normal]
18:54 --- Channel #zsh was synced in 85 seconds
19:32  pattern: how do i go to the first line of a file in zed?
19:33  pattern: gg doesn't work, neither does 1G
19:34  Mikachu: you can try beginning-of-buffer-or-history
19:34  Mikachu: or just hold down home
19:34  Mikachu: zed uses plain zle afaict, you can even page up to get the previous history line in there
19:36  pattern: thanks
19:56 --- dive is now known as Guest1544
20:02 --- Guest1544 is now known as dive
--- Log closed Sun Jan 16 20:59:03 2011
--- Log opened Sun Jan 16 21:12:11 2011
21:12 --- Users 155 nicks [0 ops, 0 halfops, 0 voices, 155 normal]
21:16 --- Channel #zsh was synced in 406 seconds
21:28 --- pothos_ is now known as pothos
22:35  jmcantrell: how can i expand a glob to the first match and store it in a var?
22:35  Mikachu: a=(*([1]))
22:35  jmcantrell: cool. thanks
22:36  Mikachu: when in doubt, add a lot of parentheses
22:36  jmcantrell: heh
22:36  jmcantrell: what about the last match?
22:36  Valodim: [-1] :)
22:36  jmcantrell: :)
22:39  jmcantrell: ok. here's one.... what about /path/to/*/foo/*  where i only want the last match of the first *, but all of the last
22:41  Valodim: you can escape the second * and put it in a var that gets evaluated at a later point
22:41  jmcantrell: any way to do it without storing it?
22:42  Valodim: hm. I wonder if there is such flag. I only know there's one for the other expansions
22:42 * Valodim checks
22:46  Valodim: ${~x} does that
22:47  jmcantrell: Valodim: how do i use that? or can you point me to the man page?
22:47  Valodim: man zshexpn
22:48  fow: ${~x} says "perform globbing on the contents of the parameter x"
22:48  fow: but I think you can use it to do something like ${~:-/path/to/*([-1])}/foo/*
22:48  jmcantrell: there is no parameter x in my case
22:48  jmcantrell: ok
22:48  fow: (untested)
22:49  jmcantrell: testing...
22:49  Valodim: may need another level of ${, but it might work like that
22:51  jmcantrell: it doesn't work. without the /foo/* it does
22:52  Mikachu: you most likely need to do two globs, store the result in a parameter
22:52  Valodim: you can probably do it in one line using ${~ two times, but that just gets messy
22:52  Mikachu: doubt it
22:52  Valodim: why?
22:53  Valodim: ${~${~:-/path/to/*/foo/\*([-1])}}
22:53  Mikachu: did you actually try that?
22:53  Valodim: nope. just guessing.
22:54  jmcantrell: i think i'd rather just use the extra var. it's going to be more readable.
22:54  Mikachu: the thing is that globbing and parameter expansion is done once on a command line
22:54  Mikachu: globbing being done after, for obvious reasons
22:54  Mikachu: but there is no recursion
22:56  Valodim: you're right
22:56  Valodim: At each nested level of substitution, the substituted words undergo all forms of single-word substitution (i.e. not filename  generation),
22:56  Valodim: that's it
23:09  Mikachu: the resulting word is just marked to be globbed on at the end if any part has a ~ i suppose
23:10  Mikachu: because if you put a ([1]) in the middle, it complains invalid pattern
23:10  Mikachu: because you can't have a glob qualifier in the middle, ${} or not
23:10  Mikachu: and it had the whole glob string in the error message
23:10  Valodim: makes sense
23:10  Valodim: there's really no need to do it in one step
23:13  jmcantrell: do i need to have an option set to use that globbing? i'm getting "bad pattern" in my script
23:14  pattern: :(
23:15  jmcantrell: haha. sorry pattern
23:17  Valodim: hahaha
23:27  jmcantrell: Valodim, Mikachu: any idea why i would get "bad pattern" in my script?
23:38  jmcantrell: if i run try it in an interactive zsh, it works, but in my function, i get bad pattern
23:40  Mikachu: try setopt bareglobqual
23:42  jmcantrell: shouldn't the function have the same options that my interactive session does?
23:43  Mikachu: sorry, i thought you said script
23:43  jmcantrell: i did. my mistake
23:43  Mikachu: so, is it a function or a script?
23:44  jmcantrell: this is a function defined in my zshrc after i've set all my shell options
23:44  Mikachu: and what is the function?
23:44  jmcantrell: Mikachu: do you want a paste?
23:44  Mikachu: not really, going to bed
23:44  jmcantrell: haha ok
23:45  jmcantrell: Mikachu: thanks for your help though. you've been very helpful on more than one occasion that i've been in here
23:45  Mikachu: np
--- Log closed Mon Jan 17 00:00:47 2011
