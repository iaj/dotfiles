--- Log opened Mon Jan 10 00:00:50 2011
00:06 --- mmnicola1 is now known as mmnicolas
00:07  fgrrd: hello
00:07  fgrrd: i need to delete some lines from a file but i get empty lines
00:07  fgrrd: how can i d
00:07  fgrrd: how can i fully delete a file without leaving the blank line?
00:07  mmnicolas: fgrrd: why not an inverted grep ?
00:08  fgrrd: what do you mean?
00:08  mmnicolas: is there something common in the lines you wanna keep ?
00:08  fgrrd: the lines are all the same
00:08  fgrrd:  sed 's|echo "1" > bandera.txt||g' FILE
00:08  fgrrd: this is what i do
00:08  fgrrd: i change this line:
00:08  fgrrd: echo "1" > bandera.txt
00:08  fgrrd: into nothing
00:09  waldner: sed '/blah/d'
00:09  mmnicolas: use d
00:10  fgrrd: ah, good, i try now
00:15  fgrrd: works
00:15  fgrrd: thanks
02:52  BlueChip: I have a standard ini file "[site1]\nurl=foo\n[site2]\nurl=bar\n" (etc) ...i wish to replace the url for site2 only ...how do i isolate that key entry? (please)
02:57  BlueChip: sed -i 's/\(url=\).*/\1NewUrl/' foo.ini   replaces both occruences:(
02:59  go|dfish: BlueChip: sed '/^\[site2\]$/{ N; s/.../.../; }'
03:00  BlueChip: will try now - thanks
03:05  BlueChip: not working ... is the N literal or do i need to substitute it with a number?
03:07  go|dfish: literal
03:08  go|dfish: is there whitespace on the line containing [site2], the ^ and $ anchor so it wont match unless it's literally just [site2]
03:08  go|dfish: you can remove them if you wish
03:09  BlueChip: may i pastebin my ini and sed line and ask you to take a quick look please?
03:10  go|dfish: yes
03:10  go|dfish: infact, it should be small 'n' instead of large 'N', but it wouldn't make much of a difference in that example
03:13  BlueChip: http://pastebin.com/QeTLBvRq
03:13  BlueChip: have tried both removing $ and ^ anchors and also tried with lcs('n')
03:14  BlueChip: The ini IS confirmed as having valid $ and ^ anchors (ie, no extraneous crap on the line)
03:14  go|dfish: uh right ok
03:14  go|dfish: yeah, that's a different problem
03:14  BlueChip: oh, sorry, thought my "url example" was a valid simplification
03:15  go|dfish: well it is :)
03:15  BlueChip: yeeeahhh LOL
03:15  go|dfish: it's just that I relied on the fact that it was the next line
03:15  go|dfish: so it changes things a bit
03:15  BlueChip: not sure how or why - but I'm sure that is about to become apparent
03:15  BlueChip: ahhh!
03:16  BlueChip: understand
03:18  BlueChip: are you able to help with this new problem? (please <- manners cost nothing)
03:20  go|dfish: well, I'm not sure if this is the best way to approach it, my sed is rusty
03:21  go|dfish: but, you can probably get away with something like: sed '/^\[Sabnzbd\]/,/^apikey/{ /^apikey/{ s/=.*/= foo/; }; }'
03:22  BlueChip: cool - let's give it a shot...
03:24  BlueChip: well ...it works ...and it's precisely infinitely better than what I had - so, I'm going: Brilliant - Thank You go|dfish :)
03:25  BlueChip: now to fry my head trying to understand it ;)
03:28  go|dfish: well, /pattern1/,/pattern2/ is a range which will match lines between the two patterns inclusively, so /pattern1/,/pattern2/{ /pattern2/{ s///;  }; }, will execute the s/// command on the first match of pattern2 that occours after pattern1
03:28  go|dfish: i'm not sure if there is a way to simplify it
03:30  BlueChip: Ah! Right! I think my lesson has been the use of {} to combine operations :)
03:32  go|dfish: :)
03:34  BlueChip: well, given "there is always another way" ...and to prove I understood you (for my own sanity) ... this: sed '/^\[Sabnzbd\]/,/^apikey/{ s/\(apikey\ =\ \).*/\1mykey/ };' also works ...I won't debate if it is simpler or not as I don't know how regex pocessors work
03:35  BlueChip: again, though, Thank You
03:36  go|dfish: yeah, the second /^apikey/ will mean the s/// command will only try to execute on that line
03:36  go|dfish: and not all lines in the range
03:37  BlueChip: understood::)
06:00 --- tarpsocks is now known as tarpsocks[0-2]
06:02 --- tarpsocks[0-2] is now known as tarpsocks
--- Log closed Mon Jan 10 08:42:48 2011
--- Log opened Mon Jan 10 11:13:24 2011
11:13 --- Users 86 nicks [0 ops, 0 halfops, 0 voices, 86 normal]
11:15 --- Channel ##sed was synced in 106 seconds
--- Log closed Mon Jan 10 12:48:20 2011
--- Log opened Mon Jan 10 13:29:42 2011
13:29 --- Users 86 nicks [0 ops, 0 halfops, 0 voices, 86 normal]
13:31 --- Channel ##sed was synced in 112 seconds
16:08 --- tarpsocks is now known as Guest50544
--- Log closed Mon Jan 10 17:47:21 2011
--- Log opened Mon Jan 10 17:53:31 2011
17:53 --- Users 88 nicks [0 ops, 0 halfops, 0 voices, 88 normal]
17:55 --- Channel ##sed was synced in 109 seconds
19:35 --- Guest50544 is now known as tarpsocks
--- Log closed Mon Jan 10 20:52:54 2011
--- Log opened Mon Jan 10 20:53:17 2011
20:53 --- Users 88 nicks [0 ops, 0 halfops, 0 voices, 88 normal]
20:54 --- Channel ##sed was synced in 109 seconds
--- Log closed Mon Jan 10 21:19:29 2011
--- Log opened Mon Jan 10 21:24:51 2011
21:24 --- Users 90 nicks [0 ops, 0 halfops, 0 voices, 90 normal]
21:26 --- Channel ##sed was synced in 108 seconds
21:59 --- cuba33ci_ is now known as cuba33ci
21:59 --- y3llow_ is now known as y3llow
23:13  kotique: hi. how do I print only 2nd matched range?
23:15  waldner: in the same line?
23:22  kotique: different lines
23:23  kotique: need to get 2 : http://pastie.org/1446648
23:26  waldner: can there be something else after the second one?
23:26  waldner: ie, another cert?
23:30  waldner: sed -n '/^-----BEGIN/{x;s/^/./;/^..$/!{x;b;}; x; n; :a; /^-----/!{p;n;ba;}}'
23:31  waldner: not nice but I'm too lazt to think of a better one
23:31  waldner: *lazy
23:39  kotique: thanks
--- Log closed Tue Jan 11 00:00:53 2011
