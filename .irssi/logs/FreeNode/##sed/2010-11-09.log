--- Log opened Tue Nov 09 08:36:15 2010
08:36 --- Users 99 nicks [0 ops, 0 halfops, 0 voices, 99 normal]
08:38 --- Channel ##sed was synced in 117 seconds
--- Log closed Tue Nov 09 09:06:28 2010
--- Log opened Tue Nov 09 09:08:16 2010
09:08 --- Users 100 nicks [0 ops, 0 halfops, 0 voices, 100 normal]
09:11 --- Channel ##sed was synced in 217 seconds
11:29  Untouchab1e: love that sed has its own irc room
11:29  Untouchab1e: quick question
11:29  Untouchab1e: I have a file with an IP-address in it
11:30  Untouchab1e: how can I use sed to replace all instances of it with another one?
11:35  geirha: You know both adresses beforehand?
11:37  Untouchab1e: geirha: no
11:37  Untouchab1e: the script retrives the new IP first, so I know that one though
11:39  geirha: 4# newip=192.168.1.1; echo 'foo 10.0.0.1 bar' | sed "s/[0-9]\{1,3\}\(\.[0-9]\{1,3\}\)\{3\}/$newip/g"
11:39  shbot: geirha: foo 192.168.1.1 bar
11:40  geirha: That might be good enough; assuming only ip-adresses match that pattern.
11:46  Untouchab1e: geirha thanks, ill give it a try
11:47  Untouchab1e: I specify the file afterwards, right?
11:47  Untouchab1e: wnd whats up with echo 'foo 10.0.0.1 bar'?
11:48  geirha: Untouchab1e: That's just som testdata... 10.0.0.1 got replaced by that sed.
11:49  Untouchab1e: ah nice, yeah
11:49  Untouchab1e: so if this is a file though..
11:50  Untouchab1e: how do I replace the occurrence of the IP address in said file?
11:51  Untouchab1e: I could just cat the old file through it and cat that into a new file
11:53  geirha: sed edits streams, not files. So you'd either have to write to a tempfile, then rename that tempfile over the original file
11:53  geirha: or use ed
11:54  Untouchab1e: I just used cat >_<
11:54  Untouchab1e: though Im sure your way is more fancy
11:54  geirha: cat is pointless
11:54  geirha: sed 'script' file > file.tmp && mv file.tmp file
11:54  Untouchab1e: ah, cool
11:55  geirha: printf '%s\n' "g/[0-9]\{1,3\}\(\.[0-9]\{1,3\}\)\{3\}/s//$newip/g" w | ed -s file
11:55  geirha: That one will edit the file in-place.
11:56  geirha: 4# newip=192.168.1.1; echo 'foo 10.0.0.1 bar' > file; printf '%s\n' "g/[0-9]\{1,3\}\(\.[0-9]\{1,3\}\)\{3\}/s//$newip/g" w | ed -s file; cat file
11:56  shbot: geirha: foo 192.168.1.1 bar
13:07 --- The-Comp1ler is now known as The-Compiler
13:24  iaj: aint there a posix shorthand for [0-9]?
13:26  cthuluh: posix defines [[:digit:]], not really shorter
13:27  iaj: cthuluh: awh.. thanks :)
--- Log closed Tue Nov 09 14:30:07 2010
--- Log opened Tue Nov 09 14:30:29 2010
14:30 --- Users 103 nicks [0 ops, 0 halfops, 0 voices, 103 normal]
14:32 --- Channel ##sed was synced in 122 seconds
15:04  bezourox: Hi, problem to overwrite a line in a file whit sed. Someone to help me ?
15:05  waldner: based on line number or a pattern?
15:11  bezourox: pattern
15:11  bezourox: ok now it's seems to work
15:18  waldner: I guess it'd be sth like sed '/pattern/s/.*/something/'
15:18  waldner: or just use "c"
--- Log closed Tue Nov 09 15:30:40 2010
--- Log opened Tue Nov 09 15:31:00 2010
15:31 --- Users 102 nicks [0 ops, 0 halfops, 0 voices, 102 normal]
15:32 --- Channel ##sed was synced in 120 seconds
--- Log closed Tue Nov 09 16:07:45 2010
--- Log opened Tue Nov 09 16:08:09 2010
16:08 --- Users 102 nicks [0 ops, 0 halfops, 0 voices, 102 normal]
16:10 --- Channel ##sed was synced in 127 seconds
--- Log closed Tue Nov 09 20:13:55 2010
