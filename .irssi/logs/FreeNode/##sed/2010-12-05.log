--- Log opened Sun Dec 05 00:00:32 2010
--- Log closed Sun Dec 05 12:03:07 2010
--- Log opened Sun Dec 05 12:03:17 2010
12:03 --- Users 92 nicks [0 ops, 0 halfops, 0 voices, 92 normal]
12:05 --- Channel ##sed was synced in 143 seconds
--- Log closed Sun Dec 05 13:39:40 2010
--- Log opened Sun Dec 05 13:39:52 2010
13:39 --- Users 93 nicks [0 ops, 0 halfops, 0 voices, 93 normal]
13:42 --- Channel ##sed was synced in 147 seconds
--- Log closed Sun Dec 05 15:35:24 2010
--- Log opened Sun Dec 05 17:19:28 2010
17:19 --- Users 93 nicks [0 ops, 0 halfops, 0 voices, 93 normal]
17:21 --- Channel ##sed was synced in 144 seconds
17:34  happyface: I need to convert "lon,lat" coordinates (eg "-80.52903922562638,43.471847188448") to the format "lat lon" (eg "43.471847188448 -80.52903922562638), each coordinate pair is on it's own line. How can I do this?
17:39  waldner: sed 's/\([^,]*\),\([^,]*\)/\2 \1/'
--- Log closed Sun Dec 05 20:39:27 2010
--- Log opened Sun Dec 05 20:39:53 2010
20:39 --- Users 95 nicks [0 ops, 0 halfops, 0 voices, 95 normal]
--- Log closed Sun Dec 05 20:43:48 2010
--- Log opened Sun Dec 05 21:00:01 2010
21:00 --- Users 95 nicks [0 ops, 0 halfops, 0 voices, 95 normal]
21:02 --- Channel ##sed was synced in 143 seconds
--- Log closed Sun Dec 05 21:22:59 2010
--- Log opened Sun Dec 05 21:28:38 2010
21:28 --- Users 95 nicks [0 ops, 0 halfops, 0 voices, 95 normal]
21:29  crocket: Hi guys
21:29  crocket: interfaces="$PRIORITY_IF $( echo $interfaces | sed \"s/ $PRIORITY_IF//\" ) " generates an error
21:29  crocket: sed: -e expression #1, char 1: unknown command: `"'
21:30  crocket: That's sh
21:30 --- Channel ##sed was synced in 153 seconds
21:34  Riviera: Yes, I know.
21:34  waldner: you don't have to escape the inner "
21:34  waldner: ah, sh.
21:34  Riviera: Same there.
21:35  waldner: in this specific case, you can probably do away with the inner " and only escape the space
21:35  waldner: depends on what's in the variable though
21:35  crocket: After removing two \s to the left of double quotes, it seems to work.
21:35  Riviera: crocket: What do you want to do?
21:35  waldner: so it's a nice sh, not a broken one
21:35  crocket: But a double quote in the middle would be interpreted as an end.
21:36  crocket: Does anybody know?
21:36  Riviera: Those who don't answer don't deserve answers.
21:36  Riviera: :)
21:36  Riviera: good luck, though :)
21:36  crocket: hmm
21:37  crocket: Riviera, I want to put ra0 in front of the list of interfaces.
21:37  crocket: Often interface=eth0 ra0
21:37  crocket: If I had three interfaces, it would be interface=eth0 eth1 ra0 or interface=eth0 ra0 eth1
21:38  Riviera: by "ra0" you do mean whatever the variable PRIORITY_IF contains
21:38  Riviera: ?
21:39  crocket: yes
21:39  crocket: I want ra0 to take priority.
21:39  Riviera: set -f
21:39  Riviera: set -- $interfaces
21:39  crocket: Is it POSIX compatible?
21:39  Riviera: interfaces=$PRIORITY_IF
21:41  Riviera: for a do [ "x$a" = "x$PRIORITY_IF" ] || interfaces="$interfaces $a"; done
21:41  Riviera: ;)
21:41  crocket: maybe for a in $@; do?
21:42  Riviera: no
21:42  Riviera: for a in "$@"; do
21:42  Riviera: not that it here would matter, but remember to always double-quote $@
21:42  Riviera: but for a do
21:42  Riviera: works too.
21:42  crocket: Riviera, Your intimate approach to teaching is touching.
21:42  Riviera: well, at least I hope it does, let's try.
21:42  Riviera: s# echo test
21:43  Riviera: mh.
21:43  Riviera: Wasn't there a trigger for a posix shell? :/
21:43  crocket: Riviera, FYI,  interfaces="$PRIORITY_IF $( echo $interfaces | sed "s/ $PRIORITY_IF//" ) " worked as expected.
21:43  Riviera: crocket: cool :)
21:43  crocket: But that is weird
21:44  Riviera: it should not really matter here, but double-quoting parameter expansions often is a good idea
21:44  Riviera: (i. e. using echo "$interfaces" instead of echo $interfaces, even safer would be printf %s\\n "$interfaces")
21:44  crocket: "$PRIORITY_IF $( echo $interfaces | sed " + s/ $PRIORITY_IF// + " ) "
21:44  crocket: s/ $PRIORITY_IF// doesn't seem to belong in double quotes.
21:45  Riviera: Why not?
21:45  Riviera: Because of the outer double quotes?
21:45  crocket: Riviera, I didn't escape inner double quotes.
21:45  Riviera: crocket: look:
21:46  Riviera: 4# touch file1 file2 file3; echo "$(echo "*")"
21:46  shbot: Riviera: *
21:46  Riviera: crocket: but:
21:46  Riviera: 4# touch file1 file2 file3; echo "$(echo *)"
21:46  shbot: Riviera: file1 file2 file3
21:46  Riviera: crocket: and:
21:46  Riviera: 4# touch file1 file2 file3; echo "$(echo \"*\")"
21:46  shbot: Riviera: "*"
21:46  Riviera: crocket: but again:
21:46  Riviera: 4# touch file1 \"file2\" file3 '"file4"'; echo "$(echo \"*\")"
21:46  shbot: Riviera: "file2" "file4"
21:47  Riviera: crocket: so, as waldner said, you must not backslash-escape the inner double-quotes because they nest if in command substitution (the $() stuff)
21:47  crocket: Riviera, where's it explained?
21:48  crocket: POSIX shell specification doesn't seem to do
21:49  Riviera: crocket: you said you use "sh." sh is standardised in several standards, the POSIX standard being the most popular one, so you should find that explained somewhere here:
21:49  crocket: Riviera, Is POSIX a sort of sh?
21:49  Riviera: crocket: http://www.opengroup.org/unix/online.html
21:50  Riviera: crocket: no, POSIX is some collection of standards, definitions, guidelines
21:50  crocket: ok
21:50  crocket: Is POSIX shell a sort of sh?
21:50  crocket: Or is it sh itself?
21:51  crocket: Riviera, "Enclosing characters in double-quotes ( "" ) shall preserve the literal value of all characters within the double-quotes, with the exception of the characters backquote, <dollar-sign>, and <backslash>, as follows:" explains it quite well,  but I didn't get it back then.
21:51  Riviera: crocket: http://www.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_06_03
21:52  Riviera: crocket: "POSIX shel" refers to all shs that conform to the POSIX standard
21:52  Riviera: shell*
21:52  crocket: ok
21:52  crocket: POSIX shell is pretty dumb ,though.
21:52  Riviera: I don't know.
21:53  crocket: POSIX shell doesn't have automatic name completion.
21:53  crocket: It is a serious drawback.
21:53  Riviera: POSIX usually allows extensions, so bash is to a certain degree also a POSIX shell, only more powerful, but not necessarily "not a posix shell", just downward compatible :)
21:53  crocket: FreeBSD has /bin/sh which is POSIX shell.
21:53  Riviera: :)
21:54  crocket: Riviera, Do you know why I wanted to put ra0 in front of the list of interfaces?
21:54  Riviera: crocket: no, but I hope you'll enlighten me :)
21:54  crocket: Riviera, It's a part of dhcpcd script.
21:55  crocket: nameservers are put in /etc/resolv.conf in the order of the list of interfaces.
21:55  crocket: So if interface=eth0 ra0, then eth0 nameservers are listed first in /etc/resolv.conf
21:55  Riviera: ah :)
21:55  crocket: The first nameserver usually takes over every naming resolution.
21:56  Riviera: I dislike dynamically generated /etc/resolv.confs
21:56  crocket: Only when the first fails, other nameservers take over.
21:56  Riviera: but that might have particular reasons :)
21:56  crocket: Riviera, But automatically generated resolv.conf reduces your managerial cost.
21:57  Riviera: yes, it depends, it depends :)
21:57  crocket: Now the first nameserver is 192.168.0.1 no matter the list of interfaces becomes.
21:58  Riviera: :)
21:58  crocket: Riviera, You're very kind.
21:58  Riviera: That usually only seems so, but thanks :)
21:58  crocket: If I asked those kinds of questions in other channels, at least I get blamed.
21:59  Riviera: I'd say that everyone who spends time helping others on the internet is very kind.
21:59  Riviera: Also if they blame. :)
21:59  crocket: If I make jokes about the fact that I ask a lot, I get banned.
21:59  Riviera: mh, then don't ;-)
22:00  crocket: There're many aggresive people who do those unneccesary stuff.
22:00  Riviera: :)
22:00  crocket: Riviera, how do you cope with the jungle world?
22:02  Riviera: i can cope with the snow, and today it's up to about 0 degrees again, so it's fine, don't worry :)
22:02  crocket: It seems like they don't want me to ask at all.
22:03  crocket: Riviera, In jungle, you meet some bullies. be prepared.
22:03  Riviera: I don't the particular situations when that happened :)
22:04  Riviera: As I said, no worries.  Being afraid of being abused is for the weak.
22:05  jsz`: Riviera, about printf, how to print 40 times "foo" instead of writing 40 times %s ?
22:05  Riviera: jsz`: in which shell?
22:05  jsz`: Riviera, in bash
22:06  Riviera: 4# printf '%.sfoo' {1..10}
22:06  shbot: Riviera: foofoofoofoofoofoofoofoofoofoo
22:06  jsz`: thanks !
22:06  Riviera: :)
22:13  rocktop: how do I add $var to the end of the line begin with DNS in the file.txt ?
22:15  Riviera: rocktop: Do you want to change the file file.txt in-place?
22:15  Riviera: rocktop: that is, modifying the file?
22:16  rocktop: yes look like sed -i
22:16  Riviera: rocktop: cp -- file.txt tempfile && sed '/^DNS/s/$/'"$var/" tempfile > file.txt && rm -f -- tempfile
22:17  Riviera: rocktop: sed -i '/^DNS/s/$/'"$var/" file.txt
22:17  Riviera: rocktop: printf %s\\n 'g/^DNS/s/$/"$var/" w | ed -s file.txt
22:18  Riviera: rocktop: all 3 untested.
22:18  rocktop: Riviera, $var is varaible
22:18  Riviera: rocktop: yes, that I am aware of.
22:19  Riviera: rocktop: Of course it should not contain characters special to sed (or ed); or if it does, those need to be cared for, for example by backslash-escaping.
22:19  Riviera: rocktop: So, did you try any and $var was not treated as a variable but a literal string?
22:19  Riviera: rocktop: Because if not, please do.
--- Log closed Sun Dec 05 22:23:40 2010
--- Log opened Sun Dec 05 22:29:08 2010
22:29 --- Users 98 nicks [0 ops, 0 halfops, 0 voices, 98 normal]
22:31  jsz`: Riviera, by the way, why did you ask about the shell I'm using? doesn't it work on others?
22:31 --- Channel ##sed was synced in 148 seconds
22:39  Riviera: jsz`: yes, because of that
22:40  jsz`: and there are alternative ways Riviera?
22:43  Riviera: 4# awk -v "n=10" -v "s=foo" 'BEGIN { for (a = 0; a < n; a++) o = o s; print o }'
22:43  shbot: Riviera: foofoofoofoofoofoofoofoofoofoo
22:46  jsz`: hmm interesting
22:46  jsz`: thanks :)
23:18  rocktop: its possible to dump ServerName and its DocumentRoot from httpd.conf ?
23:20  Riviera: :D
23:21  Riviera: Of Apache, or of pancakes?
23:22  Riviera: Well, yes, it is possible. httpd.conf is written in a particular language, a parser of that language can dump desired parts of it.
23:23  rocktop: Riviera, yes for apache is that possible with sed or awk ... ?
23:25  Riviera: rocktop: Implementing a parser for the markup language used in httpd.conf in sed or awk is an insane task.
23:25  rocktop: Riviera, perl then ?
23:26  Riviera: rocktop: Perl is a programming language and not a parser.
23:27  Riviera: rocktop: I don't even know which markup is used in httpd.conf, so I have no idea what parser you need.
23:27  Riviera: rocktop: If you only want some dirty approach that will fail whenever anyone touches your files and enriches them with comments, use sed and awk.
23:27  Riviera: or grep
23:27  Riviera: grep DocumentRoot httpd.conf
23:27  Riviera: done.
23:27  Riviera: :)
23:30  rocktop: Riviera, I have tooo many entry on httpd look like http://pastebin.com/WFqxsERx
23:30  Riviera: See.
23:30  Riviera: :)
23:30  Riviera: I said
23:30  Riviera: "If"
23:30  Riviera: you need a parser.
23:31  rocktop: every entry defined by <VirtualHost  and </VirtualHost  its possible capture ServerName and DocumentRoot for each entry  :)
23:31  Riviera: Yes, I know. :)
23:32  rocktop: or as you say its insane task :)
23:32  Riviera: Please, don't quote me wrong.
23:32  Riviera: :)
23:32  Riviera: wrongly?
23:33  rocktop: I mean insane task for sed or awk
23:34  Riviera: To implement a parser, yes.
23:34  Riviera: Not to "solve that task."
23:34  Riviera: Anyway, good luck with that.
--- Log closed Mon Dec 06 00:00:07 2010
