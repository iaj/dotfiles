--- Log opened Tue Nov 30 08:31:41 2010
08:31 --- Users 84 nicks [0 ops, 0 halfops, 0 voices, 84 normal]
08:34 --- Channel ##sed was synced in 223 seconds
08:49 --- guther_ is now known as guther
08:57  extor: Is there anything more strict that * for the wildcard? I'm trying to use sed -i 's/blah*//g' filename.txt to truncate everything after the string blah on a per line basis but I find that the truncation stops when I have non-ascci characters in the line unfortunately
08:57  extor: �Aı�o���i����n�Y��?"
08:57  extor: stuff like this is still left
09:04  guther: 4# echo 'foo blah ?A??o???i????n?Y???' | sed 's/blah.*/XXX/'
09:04  shbot: guther: foo XXX
09:05  guther: extor: '*' is only a quantifier that stands for 'zero or more'
09:08  extor: I did blah.* as well
09:08  extor: didnt work so I gave up
09:08  extor: did it manually it was only a couple dozen lines
09:39  dimm: hello. the vim chanel is not answering, can vim do something like 'sed -e <first regexp> -e <second regexp>' ?
11:13  guther: dimm: :help recording
11:22  sabat-lm: I am trying to create a script that:     finds "thisistheword" ; adds a new line ; enters "thisisthenewline" ; finds the next entry of "thisistheword" ; adds a new line ; enters "thisisthenewline" and so on
11:22  sabat-lm: I need to do this with about 40 different config files, so I would like an example using the above words. I made a sample testfile also. http://fpaste.org/F9tJ/
11:23  sabat-lm: the line## just represent lines that will have whatever in them, but every time it runs into "thisistheword" I want it to create a new line and enter "thisisthenewline"
11:30  guther: sabat-lm: like this: '/^this/aXXX' ?
11:33  sabat-lm: I'm not sure if that was what I was after, when I tried it it just said "can't find laber for jump to `est'"
11:33  sabat-lm: label*
11:33  sabat-lm: I tried sed test '/^thisistheword/thisisthenewline'
11:33  guther: u forgot the 'a' like in append
11:34  guther: /word/a newline
11:35  sabat-lm: ok you lost me
12:01  SpinachHead: if I have a file with notes and I just want to append a line of text to the file, what is the simplest way?
12:03  cusco: echo "aaa" >> file.txt
12:04  SpinachHead: Hmm, I was thinking for sed, but okay, that might be better
12:14  sabat-lm: Guther rocks, he has just taught me the basics of sed, and omg, I feel likeI know what I am doing already! [hell froze over, cows fly, pigs are green, all this just happened the same moment]
12:20  SpinachHead: looks like I want sed '$a\new line of text' fileName
12:27  SpinachHead: oh wait, that doesn't actually write the change, though
12:27  sabat-lm: hehe
12:27  sabat-lm: ya, I've ran into that
12:27  sabat-lm: THAT I can help with tho
12:28  sabat-lm: sed [expression filename >filename
12:28  sabat-lm: err
12:28  sabat-lm: sed [expression] filename >filename
12:28  sabat-lm: the >filename overwrites the old file
12:29  sabat-lm: safer to use >tempfile , then overwrite the old file
12:31  SpinachHead: sed '$a\new line of text' fileName > fileName                 isn't working
12:32  sabat-lm: not sure if it matters, but in my use, I never put a space after the >
12:32  sabat-lm: >filename
12:33  sabat-lm: try writing to a new filename while testing
12:35  SpinachHead: actually I think cusco's method  echo "new line" >> file   maybe the only really easy way for now
12:36  sabat-lm: heheh
12:37  sabat-lm: I tried that in a shellscript once, and it failed
12:37  sabat-lm: sometimes you need to initiate a different shell to do it right, like sh
12:37  sabat-lm: sh echo blah >>blah.txt
12:37  sabat-lm: if your wanting it to work on other systems
12:58  SpinachHead: don't know why cat filename | sed '$a\new line of text' > newfilename         only works if you use a different file name
15:21  pentarex1: hey guys can anyone help me i want to replace a lot of same sentences in single file how i can do it
15:22  Sp4rKy: sed -i 's/your sentence/what you wantt to put in place of it/' yourfile
15:28  pentarex1: Sp4rKy: http://pastebin.com/Rs8nZcUR
15:28  Sp4rKy: you forgot a |
15:28  Sp4rKy: just at the end of your command
15:31  pentarex1: Sp4rKy: http://pastebin.com/0u7wWNSQ
15:31  pentarex1: :D
15:32  Sp4rKy: hmm
15:33  Sp4rKy: do you have a space between last ' and your file path  ?
15:33  pentarex1: nop
15:33  Sp4rKy: :)
15:33  pentarex1: should i ?
15:33  Sp4rKy: sure
15:33  pentarex1: done
15:33  pentarex1: 10x a lot
15:33  Sp4rKy: yw
16:16  w0rmDr1nk_: hi
16:16  w0rmDr1nk_: I want to add a line to a file if certain text is not present in line
16:16  w0rmDr1nk_: I would expect something like tihs
16:16  w0rmDr1nk_: sed -n '1h;1!H;${;g;/text_to_search/!atext_to_insert;p;}' <file>
16:17  w0rmDr1nk_: but this doesnt work
16:17  w0rmDr1nk_: am I doing something wrong ?
16:18  geirha: grep -q 'text_to_search' file || printf '%s\n' 'text_to_append' >> file
16:18  w0rmDr1nk_: ;(
16:19  w0rmDr1nk_: just saw that now actually - thx
--- Log closed Tue Nov 30 19:08:23 2010
--- Log opened Tue Nov 30 19:08:43 2010
19:08 --- Users 91 nicks [0 ops, 0 halfops, 0 voices, 91 normal]
19:10 --- Channel ##sed was synced in 143 seconds
--- Log closed Tue Nov 30 20:32:31 2010
--- Log opened Tue Nov 30 20:37:53 2010
20:37 --- Users 96 nicks [0 ops, 0 halfops, 0 voices, 96 normal]
20:40 --- Channel ##sed was synced in 139 seconds
--- Log closed Tue Nov 30 21:14:00 2010
--- Log opened Tue Nov 30 21:24:28 2010
21:24 --- Users 94 nicks [0 ops, 0 halfops, 0 voices, 94 normal]
21:26 --- Channel ##sed was synced in 153 seconds
--- Log closed Tue Nov 30 21:36:20 2010
--- Log opened Tue Nov 30 21:46:42 2010
21:46 --- Users 93 nicks [0 ops, 0 halfops, 0 voices, 93 normal]
21:48 --- Channel ##sed was synced in 141 seconds
--- Log closed Tue Nov 30 22:15:46 2010
--- Log opened Tue Nov 30 22:16:11 2010
22:16 --- Users 93 nicks [0 ops, 0 halfops, 0 voices, 93 normal]
22:18 --- Channel ##sed was synced in 132 seconds
22:45 --- cuba33ci_ is now known as cuba33ci
--- Log closed Tue Nov 30 23:13:38 2010
--- Log opened Tue Nov 30 23:19:04 2010
23:19 --- Users 91 nicks [0 ops, 0 halfops, 0 voices, 91 normal]
23:19  waldner: ah that's easier
23:19  waldner: sed '/^http:/!s_^_http://_'
23:21 --- Channel ##sed was synced in 135 seconds
23:21  StrikerST: does that go through the whole file?
23:22  waldner: yes
23:22  waldner: it prepends http:// to lines that don't start with it
23:22  waldner: assuming that's what you want
23:23  StrikerST: yes
23:25  StrikerST: now question
23:26  StrikerST: what happens if instead i didnt want to use http:// but I wanted $1 first arg parameter of the script, I did a url = $1 earlier, and then could I do sed '/^http:/!s_^_$url_'
23:26  waldner: you have to do sed "/^http:/!s_^_${url}_"
23:26  waldner: though that can give you some trouble
23:27  StrikerST: why
23:27  waldner: your shell may interpret the ! as history expansion
23:27  waldner: then if $url has underscores, it won't work
23:27  waldner: and also other characters may cause issues
23:28  waldner: especially &
23:28  StrikerST: ugh
23:31  StrikerST: ok last queston :P
23:32  StrikerST: I want to append '/' to a string if it doesnt exist, if it does leave it alone
23:35  waldner: same idea as before: sed '/\/$/!s_$_/_'
23:35  StrikerST: hm k
23:36  StrikerST: sorry waldner im trying to learn these expressions
23:36  StrikerST: thanks for your help!
23:36  waldner: yw
23:39  StrikerST: oh wait last question
23:39  StrikerST: fi I wanted sed to work on a variable
23:40  StrikerST: sed '/\/$/!s_${url}_/_'
23:40  StrikerST: ?
23:40  waldner: generally speaking, to be safe you'd have to properly sanitize the variable, ie escape characters that are special to sed
23:40  waldner: and use double quotes, of course
23:46 --- Natch is now known as Natch|
23:50  StrikerST: k
23:51  StrikerST: url=$1 sed "/\/$/!s_${url}_/_"
23:51  StrikerST: doesnt seem to work
23:51  StrikerST: it freezes my scrirpt
23:51  StrikerST: =/
23:52  waldner: you have to give it a file i guess
23:52  Riviera: StrikerST: freezes as in "reads from standard input"?
23:52  StrikerST: oh i have to do all of this in files
23:52  StrikerST: i just want sed to check out a variable in my script and change or not change it
23:53  Riviera: StrikerST: freezes as in "reads from standard input"?
23:53  Riviera: StrikerST: sed either reads from a file or from standard input.
23:53  StrikerST: it freezes as in doesnt execute the rest of my script
23:53  Riviera: StrikerST: how the hell do you know you want to use sed for manipulating data in your script when you don't even know what sed does.
23:54  Riviera: StrikerST: ah
23:54  Riviera: StrikerST: freezes as in "reads from standard input"?
23:54  StrikerST: yes
23:54  StrikerST: sed is a stream editor
23:54  Riviera: StrikerST: if you don't know what that means, ask.
23:54  StrikerST: i want the stream to be my variable
23:54  StrikerST: :P
23:54  Riviera: anyway, bla.
23:54  Riviera: your a waste of time.
23:54  StrikerST: ok whats reads from standard input
23:54  StrikerST: :p
23:54  virus_found: StrikerST: sed '' file      or echo $var | sed ''
23:55  StrikerST: AH
23:55  StrikerST: thats it
23:55  StrikerST: thanks virus
23:56  Enchilada: yo
23:56  virus_found: Anyway, sed '' file   will not touch the file.   Do sed --help at least to find out ;)
23:57  Enchilada: I don't know much about scripting, sed/awk and stuff like that. I'm trying to determine where to begin. I'm starting to figure out that there are certain problems that it takes one longer time to implement in languages like C or C++ than with some other methods...
23:58  Riviera: Enchilada: consider learning a "real" scripting language instead
23:58  waldner: Enchilada: c/c++ generally lose against scripting languages, if you want to get things done quickly
23:58  Riviera: Enchilada: a shell first of all is a shell, optimised for interactive use
23:58  StrikerST: this is what I want
23:58  StrikerST: myurl=$(echo $url | sed '/\/$/!s_$_/_')
23:59  StrikerST: :)
23:59  StrikerST: yay
23:59  Riviera: Enchilada: same as its tools, like sed and awk.
23:59  Enchilada: So, as an example, here is a problem I'd like to be able to solve: (1) Read this file from the web: http://www.csidata.com/factsheets/inactive/nyse.txt  (2) fetch the dates in the 2nd last column. (3) sort the dates and show them to me. (4) find the latest and oldest dates, and show them both to me.
23:59  Enchilada: what would be the right tool to do this task quickly?
--- Log closed Wed Dec 01 00:00:29 2010
