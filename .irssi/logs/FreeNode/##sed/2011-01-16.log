--- Log opened Sun Jan 16 00:00:51 2011
--- Log closed Sun Jan 16 00:10:19 2011
--- Log opened Sun Jan 16 00:10:40 2011
00:10 --- Users 96 nicks [0 ops, 0 halfops, 0 voices, 96 normal]
00:12 --- Channel ##sed was synced in 118 seconds
01:11 --- grop_ is now known as grop
01:13  Bop: <table>
01:13  Bop: <TR><TD>1</TD>
01:13  Bop: <TD>text
01:13  Bop: text</TD>
01:13  Bop: how to replace the \n only for ocurrencies like the 3ยบ line for <br> ?
01:14  vkues: Where "like" means "open blocks"?
01:14  vkues: or no,
01:14  vkues: nevermind that.
01:14  cthuluh: 01:13 <greybot> You can't realistically parse tag-based markup languages like HTML and XML using Bash or  utilities such as grep, sed or cut. If you just want to dump/render HTML, see  (links|links2|lynx|w3m) -dump, html2text, vilistextum. For parsing out pieces of data, see  tidy+(xmlstarlet|xmlgawk|xpath|xml2), or learn xslt. Ask #xml and #html for more help. See
01:15  vkues: What does "like" mean?
01:15  cthuluh:  http://ww.codinghorror.com/blog/arrchives/001311.html
01:15  Bop: so it will be all the same , but <TD>text text </TD>
01:15  Bop: without the \n in the middle
01:15  Bop: ops
01:15  Bop: so it will be all the same , but <TD>text<br>text</TD>
01:15  vkues: What should happen in cases like
01:16  vkues: <td>la</td>la<td>
01:16  vkues: </td>
01:16  vkues: :)
01:16  Bop: nothing cause it aint got no \n
01:16  Bop: hmm , it does
01:17  Bop: 'N;s/[^<|>][\n]/<br>/g'
01:19  vkues: Bop: sed -e :a -e '/[^>]$/!b' -e '$!N' -e 's/\n/<br>/' -e ta
01:20  Bop: lol that works
01:21  vkues: lol
01:22  Bop: care to explain ?
01:24  vkues: For all lines not having > as their last character, append next line (if there is any), change the \n before that new line to <br> and check if that was the last line of input or if that new read-in line also does not end in >
01:25  vkues: :a is a label, /[^>]$/!b checks whether a line ends in >, $!N appends \n and the next line of input, the s command should be clear, the ta jumps to the label a if it was not the last line of input
01:25  vkues: (because otherwise no sustitution could have occured)
01:27  Bop: but first line <table> ends in >
01:27  vkues: .. and?
--- Log closed Sun Jan 16 02:10:38 2011
--- Log opened Sun Jan 16 02:11:03 2011
02:11 --- Users 94 nicks [0 ops, 0 halfops, 0 voices, 94 normal]
02:12 --- Channel ##sed was synced in 112 seconds
--- Log closed Sun Jan 16 12:29:55 2011
--- Log opened Sun Jan 16 12:30:17 2011
12:30 --- Users 92 nicks [0 ops, 0 halfops, 0 voices, 92 normal]
12:32 --- Channel ##sed was synced in 112 seconds
12:51 --- ramok_ is now known as ramok
13:02  nicola_pav: hello. i am trying to add text after a pattern using sed
13:03  nicola_pav: i use sed -i '/bash/ a ifconfig -eth0 -a2 | grep 'inet addr' test.sh'
13:03  nicola_pav: but it does not run and my guess is because there is single quotes in the text i want to add
13:04  nicola_pav: how can i escape single quotes and double quotes in sed?
13:17  ramok: nicola_pav: this is not a sed problem, but sh problem :)
13:17  ramok: 1. sed -i "/bash/ a ifconfig -eth0 -a2 | grep 'inet addr' test.sh"
13:17  ramok: in "" quote, you can use ''
13:17  nicola_pav: ramok: u r right yeah. sorry for that
13:18  ramok: 2. sed -i '/bash/ a ifconfig -eth0 -a2 | grep '\''inet addr'\'' test.sh'
13:19  ramok: in '' quote, you can 1) end quote ' 2) escape \' 3) start new quote '  => '\''
13:20  nicola_pav: the first 1 one worked just fine
13:20  nicola_pav: thanks
13:23  ramok: nicola_pav: but in "" quote shell variables will expand.
13:25  nicola_pav: ramok: i want to add a text line to a script
13:25  nicola_pav: after some pattern
13:48 --- chrischambers_ is now known as chrischambers
--- Log closed Sun Jan 16 14:52:29 2011
--- Log opened Sun Jan 16 14:52:50 2011
14:52 --- Users 93 nicks [0 ops, 0 halfops, 0 voices, 93 normal]
14:54 --- Channel ##sed was synced in 113 seconds
--- Log closed Sun Jan 16 18:52:39 2011
--- Log opened Sun Jan 16 18:53:03 2011
18:53 --- Users 92 nicks [0 ops, 0 halfops, 0 voices, 92 normal]
18:54 --- Channel ##sed was synced in 112 seconds
20:23  paxcoder: is there a way to only replace first occurrence of a pattern, and disregard all subsequent lines which fit it?
20:28  paxcoder: umm anyone?
20:28  The-Compiler: hmm
20:29  The-Compiler: /foo/{s/foo/bar;q} should do
20:29  The-Compiler: not sure though
20:31  e36freak: nope, looking into it
20:31  The-Compiler: hmm, doesn't the sed oneliners have something for that
20:32  The-Compiler: need to go, google for sed oneliners, not sure though
20:32  The-Compiler: bbl
20:34  cthuluh: I believe there are several ways
20:34  cthuluh: sed '/regex/ { s/regex/foobar/; : loop; n; b loop; }', for example
20:35  e36freak: 4# sed '0,/foo/s//bar/' <<<$'foo\nbar\nfoo'
20:35  shbot: e36freak: bar
20:35  shbot: e36freak: bar
20:35  shbot: e36freak: foo
20:35  e36freak: 4# sed '0,/foo/s//bar/' <<<$'foo\nfoo\nfoo'
20:35  shbot: e36freak: bar
20:35  shbot: e36freak: foo
20:35  shbot: e36freak: foo
20:35  cthuluh: with 0 being GNU specific
20:36  e36freak: aye
--- Log closed Sun Jan 16 20:59:03 2011
--- Log opened Sun Jan 16 21:12:14 2011
21:12 --- Users 93 nicks [0 ops, 0 halfops, 0 voices, 93 normal]
21:16 --- Channel ##sed was synced in 434 seconds
21:26 --- y3llow_ is now known as y3llow
21:28 --- cuba33ci_ is now known as cuba33ci
22:06  tuxcrafter: find . -type f -exec sed -i 's,Copyleft &copy; 2010,Copyleft &copy; 2011,g' {} \;
22:06  tuxcrafter: i kind of messed up with that sed line
22:07  tuxcrafter: how can i get it right :D
22:07  tuxcrafter: i mean how should have been the sed line :D
22:11  cthuluh: the & in the replacement part should be quoted
22:11  cthuluh: *escaped
22:11  cthuluh: \&
22:12  Giles: hello, how can I convert UPPERCASE to "uppercase"  where uppercase is any sequence of uppercase ascii chars.
22:12  Giles: I also want to put "'s around the result.
22:16  The-Compiler: Giles: just a minute ;)
22:19  The-Compiler: doesn't work as I'd expect it to o_O
22:20  cthuluh: 4# sed 's/[[:upper:]]\+/"\L&\E"/g' <<< FOOBAR
22:20  shbot: cthuluh: "foobar"
22:20  cthuluh: (requires GNU sed)
22:20  The-Compiler: what's the \E for?
22:21  cthuluh: stop case conversion
22:21  The-Compiler: ah
22:21  The-Compiler: any idea why x/[A-Z]/[a-z]/ doesn't work?
22:21  cthuluh: you mean y
22:22  The-Compiler: err, yes
22:22  cthuluh: perhaps because you're using some funky locale. try [[:upper:]]
22:22  The-Compiler: tried that as well
22:22  cthuluh: then I have no idea
22:23  The-Compiler: florian@vps30951 ~ % echo FOO | sed 'y/[[:upper:]]/[[:lower:]]/'
22:23  The-Compiler: FOO
22:23  The-Compiler: florian@vps30951 ~ % echo FOO | sed 'y/[A-Z]/[a-z]/'
22:23  The-Compiler: FOO
22:23  cthuluh: err, maybe because y doesn't accept character ranges :)
22:23  The-Compiler: ow. :D
22:24  cthuluh: 4# echo '[A-Z]' | sed 'y/[A-Z]/[a-z]/'
22:24  shbot: cthuluh: [a-z]
22:27  The-Compiler: bam
22:34  tuxcrafter: cthuluh: thakns \& worked
22:42  cthuluh: tuxcrafter: and specify a backup extension if you use -i
22:43  tuxcrafter: backup extention?
22:47  cthuluh: 4# echo foo > file; sed -i.bak 's/foo/bar/' file; cat file file.bak # tuxcrafter
22:47  shbot: cthuluh: bar
22:47  shbot: cthuluh: foo
22:50  tuxcrafter: cthuluh: ah ok
--- Log closed Mon Jan 17 00:00:47 2011
