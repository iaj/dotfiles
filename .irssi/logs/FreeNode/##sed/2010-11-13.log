--- Log opened Sat Nov 13 00:00:04 2010
02:14  ilab: I'm trying to delete a line that matches a variable like sed /"$var"/ file . But $var=ABC "DEF" GHI  . And it doesn't actually delete the line. I think the "" are throwing off sed. How can I get this to work?
02:15  ilab: btw i'm using sed /"$var"/d file. I tried also sed 's/'"$var"// file with no luck
02:19  guther: 4# foo=foo;echo -e 'foo delete\nbar keep' | sed "/"$foo"/d"
02:19  shbot: guther: bar keep
02:19  Riviera: Why that strange quoting?
02:20  guther: Riviera: me or ilab?
02:20  Riviera: yours, ilab's I did not see :)
02:22  Riviera: ilab: try
02:23  Riviera: ilab: sed "/$var/d"  or just  grep -vF "$var"
02:23  Riviera: guther: your variant can cause problems when there are whitespace characters or pathname expansion characters in var.
02:31  ilab: Riviera: grep -vF is good. I had some trailing whitespace in the variable name that was trhowign it off.
02:31  Riviera: :)
02:33  ilab: Riviera: damn grep -vF still doesn't get it with the trailing whitespace. Is there a good way/utility to trim beginning/end whitespace
02:34  Riviera: ilab: I am not sure if I understand, let me try to rephrase:
02:34  Riviera: ilab: You want to process an input file in two steps:
02:34  Riviera: ilab: First, remove all lines that contain the string that your shell variable "var" contains,
02:35  Riviera: ilab: second, remove all leading and trailing whitespace from the lines that after the former step are left?
02:35  Riviera: ilab: (Because I don't quite get what you mean with "trailing whitespace in the variable name.")
02:36  guther: could u give an example? Input and desired outcome?
02:36  ilab: I need to trim $var before comparing it to the file. otherwise it won't match. for example: var='ABC "DEF" GHI     [:space:]'. But I want var to match only 'ABC to GHI'
02:37  Riviera: Ah, okay.
02:39  Riviera: ilab: read -r var <<< "$var"
02:39  Riviera: an example:
02:40  ilab: Riviera: sweet that works. thanks
02:40  Riviera: 4# var='  one two  '; echo "Before the read command: >$var<"; read -r var <<< "$var"; echo "After the read command: >$var<"
02:40  shbot: Riviera: Before the read command: >  one two  <
02:40  shbot: Riviera: After the read command: >one two<
02:40  Riviera: together it'd be: read -r var <<< "$var"; grep -vF "$var"
02:40  Riviera: The smart thing would be not to have trailing whitespace in var, though :-)
02:41  guther: var=${var// /} should work also
02:42  ilab: guther: yeah that gets rid of the middle white space between the words though.
02:59  ilab: Is there a way to do math directly in sed? I'm back referencing a number and just want to decrement it.
03:00  jwillia3: ilab, no.
03:00  Riviera: For this, you would have to teach sed to do maths, which usually is a pointless thing to do.
--- Log closed Sat Nov 13 03:07:25 2010
--- Log opened Sat Nov 13 03:07:48 2010
03:07 --- Users 90 nicks [0 ops, 0 halfops, 0 voices, 90 normal]
03:09 --- Channel ##sed was synced in 103 seconds
04:12 --- Natch is now known as Natch|
--- Log closed Sat Nov 13 07:07:21 2010
--- Log opened Sat Nov 13 07:07:41 2010
07:07 --- Users 87 nicks [0 ops, 0 halfops, 0 voices, 87 normal]
07:09 --- Channel ##sed was synced in 106 seconds
--- Log closed Sat Nov 13 11:02:16 2010
--- Log opened Sat Nov 13 11:07:39 2010
11:07 --- Users 89 nicks [0 ops, 0 halfops, 0 voices, 89 normal]
11:09 --- Channel ##sed was synced in 99 seconds
--- Log closed Sat Nov 13 14:47:47 2010
--- Log opened Sat Nov 13 14:48:13 2010
14:48 --- Users 91 nicks [0 ops, 0 halfops, 0 voices, 91 normal]
14:49 --- Channel ##sed was synced in 98 seconds
--- Log closed Sat Nov 13 14:55:48 2010
--- Log opened Sat Nov 13 14:56:34 2010
14:56 --- Users 92 nicks [0 ops, 0 halfops, 0 voices, 92 normal]
14:57 --- Channel ##sed was synced in 108 seconds
--- Log closed Sat Nov 13 15:24:14 2010
--- Log opened Sat Nov 13 15:24:42 2010
15:24 --- Users 92 nicks [0 ops, 0 halfops, 0 voices, 92 normal]
15:26 --- Channel ##sed was synced in 100 seconds
15:43  levglonti: hallo all :)
15:43  levglonti: i need small help with sed
15:43  levglonti: :)
15:43  levglonti: can anybody help me?
15:44  waldner: ask your question
15:45  levglonti: i have file called bashget.list
15:47  levglonti: i have file called bashget.list
15:47  levglonti: this file contains few lines
15:47  levglonti: i need to remove first line
15:48  levglonti: and write results again in same file
15:48  waldner: try sed -i.bak 1d bashget.list
15:48  levglonti: i tried sed '1d' ./bashget.list > ./bashget.list
15:49  waldner: no that can't work
15:49  levglonti: but this command returns blank file (bashget.list is blank)
15:49  levglonti: why?
15:49  levglonti: :)
15:49  waldner: because the output redirection wipes the file before sed even reads it
15:50  waldner: if you want to do that, use sed 1d bashget.list > tempfile && mv tempfile bashget.list
15:51  levglonti: ok, i will try with -i.bak option
15:53  levglonti: thx, -i.bak worked
15:53  levglonti: thanks again
15:53  levglonti: :)
15:53  waldner: np
--- Log closed Sat Nov 13 16:24:12 2010
--- Log opened Sat Nov 13 16:24:34 2010
16:24 --- Users 92 nicks [0 ops, 0 halfops, 0 voices, 92 normal]
16:26 --- Channel ##sed was synced in 98 seconds
--- Log closed Sun Nov 14 19:50:10 2010
