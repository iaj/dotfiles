--- Log opened Thu Oct 07 08:33:08 2010
08:33 --- Users 509 nicks [0 ops, 0 halfops, 0 voices, 509 normal]
08:34 --- Channel #bash was synced in 70 seconds
09:21  aaron____: hi, can somebody clue me in on how i can write a shell script to implode a text file into one line with a delimiter?
09:22  pgas: paste -s -d ,  file
09:23  pgas: if you need a string delimiter rather than a char:
09:23  pgas: sed '$!s/$/string/' file | paste -d '' -s
09:24  aaron____: pgas: awesome! will that write over the same file?
09:24  pgas: no
09:24  pgas: if you need to edit a file, use an editor
09:25  pgas: printf %s\\n '1;$-1s/$/string' ,j w | ed -s file
09:25  aaron____: pgas: awesome, that seems to have worked. thanks!!
10:03  andrewnemeth: hey guys
10:03  andrewnemeth: Im looking for a guy who knows shell scripting
10:03  andrewnemeth: I have a job for him for money
10:03  andrewnemeth: :)
10:25 --- hendry_ is now known as hendry
10:26  lhunath: andrewnemeth: if you want to hire people; there are plenty of web sites that help you with finding developers; or visit your local interim office.
10:57  aaron____: hi, i dont know where else to ask this, but does anyone know where ican get a comprehensive list of action verbs?
11:00  lhunath: uh.  #english ?
11:01  lhunath: if you're talking about something else; you should probably be less vague.
11:05 --- maxb_ is now known as maxb
11:32 --- bassline1 is now known as bassliner
12:10  CyberCr33p: hello
12:17  GC_01: hi
12:17  GC_01: any idea why this doesnt work as a cron job? http://pastebin.com/n9JrrNPk
12:19  trash: GC_01: Use SSH keys and your pain will go away.
12:19  GC_01: I cant
12:19  GC_01: my only option is to use expect
12:25  lhunath: GC_01: nonesense.
12:25  lhunath: GC_01: what's the name of the authentication method you're using?
12:25  lhunath: GC_01: "keyboard interactive".  Have you any clue WHY they name it that?
12:26  lhunath: do you think they're idiots?  no, you are.
12:27  lhunath: but that's ok, now you're wiser.
12:27  lhunath: !sshkeys
12:27  greybot: http://mywiki.wooledge.org/SshKeys
12:32 --- drizztbsd_ is now known as drizztbsd
12:32  GC_01: a link to sshkey info.. how cool is that
12:35  hemanth: hello bash hacker, you guys are the ones who spend most of the time with terminals; So which is the best bg and font for a terminal [[ me knows it's NABQ ]] but this is the best place i know where i can get the answer for this....
12:35  go|dfish: hemanth: For fonts I like: Droid Sans Mono Slashed or Monaco
12:36  hemanth: go|dfish, me on Monaco :) bg color?
12:37  go|dfish: It varies
12:37  hemanth: go|dfish, o ya, have heard people do that; like ssh to one server and keep its color diff ; as root diff color; each profile has its own color; hmm
12:38 * lhunath prefers Inconsolata by far.
12:39  lhunath: you may like: http://hivelogic.com/articles/top-10-programming-fonts
12:40  hemanth: 1. Inconsolata :)
12:41  hemanth: my bg is #47536F
12:52 --- mingdao_ is now known as mingdao
12:52 --- mingdao is now known as Guest16353
12:56  krisfremen: heyo guys
12:57  krisfremen: i'm having some trouble installing hal, gnome-mount and dbus
12:57  trash: Wrong channel.
12:57  krisfremen: oh krap
12:57  krisfremen: yeah
12:57  krisfremen: too many freenode channel
14:20  DjAngo23: Hey everyone, i just wrote a script that makes a .tar, uploads the file to a distant server (via SCP) and than i want it to untar the file
14:21  DjAngo23: But, if i put ssh xxx@server.com i get out of my script.
14:21  DjAngo23: How can i solve that ?
14:21  twkm: ''man ssh''.  also, /join #openssh.
14:21  DjAngo23: twkm, okay, so i can tdo that wit ssh, thanks
14:23 --- taylanu1 is now known as taylanub
14:30  Synthbread: so this works fine: tac /var/hl7/frsn.log | awk '/^== /&& ok {print $5" "$6" "$7" "$8" "$9; exit} /getting file/{ok = 1}'
14:30  Synthbread: but this doesn't:
14:30  Synthbread: # /bin/bash -c "tac /var/hl7/frsn.log | awk '/^== /&& ok {print $5" "$6" "$7" "$8" "$9; exit} /getting file/{ok = 1}'"
14:30  evalbot: Synthbread: : -c: line 0: unexpected EOF while looking for matching `''
14:30  evalbot: Synthbread: : -c: line 1: syntax error: unexpected end of file
14:31  Synthbread: how can I run this with /bin/bash -c ?
14:32 --- Guest16353 is now known as mingdao
14:33 --- mingdao is now known as Guest93159
14:33  Mikaze: Not sure, but I might try expect if all else failed.
14:34  koala_man: Synthbread: escape the $s and "s
14:35 --- Guest93159 is now known as mingdao
14:37  Synthbread: koala_man: ^^
14:37  Synthbread: koala_man: thank you!
14:38  tzervo: hi all. I asked a couple days ago about the existence of a bash option enabling menu autocompletion and was pointed to menu-complete (I script in sh/bash but use zsh as my interactive shell, exactly due to that feature, and I wanted to get rid of it). Today I found kingbash, thought I'd share it
14:38  tzervo: in case anyone found it useful. It is a python script bound to a bash function enabling menu autocompletion using readline...
14:47  taylanub: anything against zsh? (not using it ATM but might switch sometime for the interactive features)
14:49  tzervo: taylanub: I found myself trying to debug some scripts written in bash with help from the guys here, and I tried their recommendations in a term with zsh. some things behave differently and I simply cannot learn both at that stage...
14:51  tzervo: and since bash is more "standard"... zsh feels more featureful to me for interactive use but simultaneously more "unpredictable". I am a beginner in both though, so my opinion could be not that well informed
14:53  tzervo: the only thing I found missing in bash at my (low) level of usage was the menu autocompletion. afaik, with a little work, all else can be implemented in bash as well
14:54  taylanub: thanks for the opinion
14:54  tzervo: np. as always, the best advice is: take it for a spin a week or two and see if it fits you :)
15:14  OleMoudi: any ideas why screen -S name -X stuff "command" doesn't work on a previously created screen -S name -d -m command, unless I manually attach and detach from it first? also, any way to do this last thing with a script?
15:15 --- drizztbsd_ is now known as drizztbsd
15:17  twkm: try #screen.
15:20  OleMoudi: k
15:20  plovs: OleMoudi or try tmux insted of screen if you can't get it to work
15:26  mattt_: Does the bash substitution form of parameter expansion support backreferences?
15:27  OleMoudi: k thanks plovs
15:28  pgas: mattt_: no
15:28  mattt_: darn.. ok thanks
15:29  OleMoudi: just for reference, I'm trying adding -p 0 option, seems it solves my problem according to this link: http://lists.gnu.org/archive/html/screen-users/2010-07/msg00018.html
15:29  pgas: mattt_: what are you trying to do?
15:29  OleMoudi: #screen seems utterly dead btw
15:30  skered: OleMoudi: Just ask and idle
15:30  skered: They'll answer
15:30  OleMoudi: i cannot send text to channel
15:30  OleMoudi: also no ops
15:30  skered: oh well you're fucked then.. unless there's a ##screen
15:31  skered: But then again screen -X name -X command works for me.
15:31  mattt_: just found a solution :)
15:31  skered: -S rather
15:31  OleMoudi: it works but only if you previously accessed that screen, so it seems I must add -p 0 to specify a window
15:31  twkm: OleMoudi: pay attention to your server messages.
15:32  mattt_: pgas: urldecode - mv $N ${N//\%/\\x/}
15:32  OleMoudi: twkm, which messages
15:33  skered: OleMoudi: Works for me without accessing the screen
15:34  OleMoudi: skered, how do you create the screen in the first place?
15:34  skered: screen -S foo -d -m; screen -S foo -X screen -t foo mutt;
15:34  sn18: !quotes > mattt_
15:34  skered: screen -dr foo... mutt has loaded in a screen window named foo
15:34  greybot: mattt_: "USE MORE QUOTES!" They are vital. Also, learn the difference between ' and " and `. See <http://mywiki.wooledge.org/Quotes> and <http://wiki.bash-hackers.org/syntax/words>.
15:36  skered: OleMoudi: But then again I don't know what you're trying to execute.
15:36  OleMoudi: skered, "screen -t" must be the key, Im doing screen -S foo -d -m; screen -S foo -X stuff "command" and it doesnt seem to work
15:37  OleMoudi: I found this on the link i pasted earlier
15:37 --- mikeplus32 is now known as mikeplus64
15:37  OleMoudi: So you just have to add -p 0, it worked for me like a charm. To get the list of the windows, you can do -p = (man screen is your friend).
15:37  OleMoudi: that last line was a quote :)
15:39  Rayne: i use `id` for retrieving the user's id. which tool is able to resolve the id of a group?
15:40  erUSUL: Rayne: man getent ?
15:40  variable: Rayne, getent passwd username
15:41  OleMoudi: anyway just tested it and it worked, thanks for the help skered
15:41  erUSUL: Rayne: or parse /etc/group yourself
15:41  variable: Rayne, id -g
15:42  Rayne: variable, does not work, it will print the effective group id of a user, but not the id for group "foo"
15:42  variable: ah
15:42  variable: so - getent
15:43  Rayne: getent, thanks :)
15:44  skered: OleMoudi: Maybe.. at least to "screen" less the "-t name"
16:02  Phillemann: Does bash check argv[0] to see if it was called via "/bin/sh"?
16:02  pgas: yes
16:02  Phillemann: And it enters some kind of "compatibility mode" then?
16:02  pgas: yes
16:03  Kartagis: hello
16:03  Phillemann: I'd like to...turn that off, but I don't have administrator rights.
16:03  Phillemann: My login shell currently is /bin/sh as it seems.
16:03  pgas: You probably need to recompile bash for that
16:03  twkm: why not change your shell?
16:04  Phillemann: twkm: Doesn't that need root rights?
16:04  twkm: sigh.
16:04  pgas: just run "bash"
16:04  Phillemann: I don't want to do that every time. :)
16:04  erUSUL: Phillemann: no; run « chsh »
16:05  pgas: add it in your .profile ....or better ask your admin
16:05  Phillemann: pgas: Ah, .profile. Didn't know about that one. Thanks. :)
16:06  Kartagis: I have a for x in *.avi, and it transcodes movies using mencoder. this script is called avitoaviwithsrt. is it possible to make this script work on the avi files that I use another for loop. I was thinking something like for a in 1.avi 2.avi 3.avi;do avitoaviwithsrt but it apparently doesn't work
16:06  Phillemann: twkm: I'm curious, though. Why'd you sigh? :)
16:06  twkm: you know a word.
16:07  pgas: Phillemann: have you tried "chsh" ?
16:07  Phillemann: pgas: Yes, it says I have insufficient access.
16:07  Phillemann: I actually tried that before you said it.
16:07  Phillemann: Should have mentioned...
16:07  karthee: Hi .. bash dont have sin / cos  Math functions ??
16:07  pgas: no
16:07  karthee: ok
16:07  pgas: bash doesn't do float
16:09  twkm: *boggle*
16:13  pgas: hm, I now wonder how much different bash called as sh is different when used as a login shell
16:13  Phillemann: Well, for one, it doesn't read ~/.bashrc :P
16:14  Phillemann: But I'd like to see a list of differences, too.
16:15  koala_man: doesn't greybot have one somewhere?
16:15  koala_man: !sh
16:15  greybot: sh is the POSIX or Bourne shell, not bash. Even if sh is a symlink to bash, running a script under 'sh' (either by typing 'sh myscript' or putting '#!/bin/sh' at the top) *disables* many bash features. See http://mywiki.wooledge.org/BashGuide/Practices#Choose_Your_Shell
16:15  napster: How can I do "while (x && (a==b))" in bash?
16:15  pgas: no, but you can do something like that
16:16  koala_man: while ((x && (a==b)))
16:16  pgas: Phillemann: there is an extensive list in info manual
16:16  Phillemann: Just found it. Nice.
16:17  pgas: http://www.gnu.org/software/bash/manual/bashref.html#Bash-POSIX-Mode
16:17  napster: koala_man: What I need to do is that chech this while [ -f $newfile && [ $newfile != $file ] ]
16:17  koala_man: while [[ -f $newfile && $newfile != $file ]]
16:19  napster: koala_man: Let me try :-)
16:31  napster: koala_man: Yes! it worked. Thank you friend
16:32  karthee: HI can I find a folder whose size is greater than Xmb ?
16:32  karthee: using find command ?
16:33  aixenv: hey guys i have a script im working on and it's not working right, I have a feeling the ' ' marks in the mysql cli command are being omitted
16:33  aixenv: http://pastebin.com/enpaiQnJ
16:34  napster: karthee: What about using du -h?
16:34  aixenv: the output is like i passed "mysql -e create database foo;" as opposed to mysql -e 'create database foo';
16:35  erUSUL: !'
16:35  greybot: Single quotes (') cause everything between them to be taken literally by bash. If you want to embed a ' inside a '...', write it as the four characters, '\'': echo 'It'\''s a blast!'
16:35  karthee: napster: du -hs gives me the size of folders .. I want to find if its greater than 10M
16:35  aixenv: ahh escaping it...
16:35  napster: karthee: ok
16:36  koala_man: karthee: du . | awk '$1 > 10000'
16:37  karthee: koala_man: wow .. thanks ..
16:37  aixenv: ty this would work too it seems =`${mysql} -e "CREATE DATABASE ${_db};"`
16:38  aixenv: anything wrong with using it that way?
16:39  koala_man: how much of that =` stuff is part of the command?
16:51  lhunath: aixenv: don't put commands in variables (ref. mysql parameter) and be aware that you're injecting the db name into sql code; allowing anyone with the ability to affect the contents of the db var to probably do anything with your database they like
16:51  erUSUL: insert xkbc reference here
16:52  erUSUL: xkcd*
16:52  lhunath: same goes for the mysql parameter, fwiw
16:52  lhunath: albeit to a lesser extent since its word split
16:53  lhunath: eww.  you're actually doing even worse things.
16:53  lhunath: but yeah, I've already said it; don't put commands or code in variables.
16:57  lhunath: http://pastebin.com/L8Db35ZU -- it's still allowing SQL injection etc.
16:58  lhunath: for anything decent; stay away from mysql(1) for dynamically generated SQL.
17:04  mattt_: Is there a way to use variables in words of the form $'string' such that escape sequences in the string variable are decoded?
17:06  taylanub: printf "$variable" .  might do more than you want though
17:07  silasdavis: Why does [ "a" = "a" ]; echo $? return 0?
17:07  mattt_: echo -e works too
17:08  Carmageddon: can anyone point me to a good Expect tutorial? I was not able to find anything thorough on google.. only basic small things. I need to handle optional questions such as "Overwrite? (y/N)"
17:09  taylanub: silasdavis: in the shell, 0 is true, anything else is false
17:09  taylanub: because there's usually more ways to fail than to succeed
17:09  taylanub: that's why you return 0 in int main() for success
17:10  Carmageddon: anyone about Expect?
17:10  erUSUL: !expect
17:10  greybot: http://expect.nist.gov/ -- a Tcl package for driving interactive terminal-based programs
17:10  silasdavis: thanks taylanub, for some reason I had decided that that was the wrong way round, I don't really know why
17:11  tmr: Carmageddon, try #tcl
17:12 --- nolimitsoya_ is now known as nolimitsoya
17:13  twkm: Carmageddon: try a tcl channel.
--- Log closed Thu Oct 07 19:00:41 2010
--- Log opened Thu Oct 07 19:00:52 2010
19:00 --- Users 552 nicks [0 ops, 0 halfops, 0 voices, 552 normal]
19:00 --- Server: [zelazny.freenode.net] [freenode-info] if you're at a conference and other people are having trouble connecting, please mention it to staff: http://freenode.net/faq.shtml#gettinghelp
--- Log closed Fri Oct 08 02:19:36 2010
