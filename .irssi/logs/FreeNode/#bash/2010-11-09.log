--- Log opened Tue Nov 09 08:36:14 2010
08:36 --- Users 494 nicks [0 ops, 0 halfops, 0 voices, 494 normal]
08:37 --- Channel #bash was synced in 100 seconds
08:44  apetrescu: Yo
--- Log closed Tue Nov 09 09:06:28 2010
--- Log opened Tue Nov 09 09:08:15 2010
09:08 --- Users 497 nicks [0 ops, 0 halfops, 0 voices, 497 normal]
09:11 --- Channel #bash was synced in 211 seconds
09:13  fluter:  hi, guys, is there anyway to let nc quit a udp session automatically?
09:14  twkm: /me chortles
09:15  fluter: twkm: why?
09:16  fluter: tcp server will quit when it receives a EOF, but how can let udp do the same?
09:19  twkm: i chortled because i understand udp.
09:19  twkm: when the peer nc dies the local nc should receive an rst which should cause it to terminate.  or not, i don't use nc much.
09:19  fluter: twkm: great, you understand udp, so how should I do to get this
09:19  twkm: don't use udp.
09:20  fluter: twkm: I am testing udp..., so how to do ?
09:20  fluter: I use tcp and udp both,
09:20  fluter: twkm: do you have any idea?
09:21  {xmb}{bottz}7man: udb doesnt have acks or rst's
09:21  {xmb}{bottz}7man: only apk implentations
09:21  fluter: {xmb}{bottz}7man: yes, I already know that,
09:21  fluter: but how can I do this?
09:22  {xmb}{bottz}7man: catch a 'clientwannaquit' and on recieve kill -7 it
09:22  fluter: how to catch a 'clientwannaquit'? and how to send it?
09:22  twkm: ignoring nc for now ... what is it you are doing?
09:23  {xmb}{bottz}7man: yea
09:23  {xmb}{bottz}7man: nc sup
09:23  {xmb}{bottz}7man: rc sup
09:23  fluter: {xmb}{bottz}7man: what is sup?
09:23  {xmb}{bottz}7man:         erman
09:23  fluter: twkm: I am doing some network testing,
09:23  {xmb}{bottz}7man: sup short for whatsup
09:24  twkm: well, if that's all the more clarity you can offer ...
09:24  {xmb}{bottz}7man: ask him
09:24  {xmb}{bottz}7man: like
09:24  {xmb}{bottz}7man: fluter, please be so kind to explain further
09:25  fluter: well, nc is available on any machiens, so I wanna to use nc,
09:25  {xmb}{bottz}7man: dude what do u wanna achieve
09:25  twkm: no it is not.
09:26  twkm: possibly it is on all of your machines, but it is not ubiquitous.
09:26  fluter: {xmb}{bottz}7man: client send a file to server use nc -u, server receive the file with nc -l -u, and then extamine the content of the file,
09:27  {xmb}{bottz}7man: then use -timeout
09:27  {xmb}{bottz}7man: that may work
09:27  fluter: nc is the swiss army knife of network -- someone says
09:27  {xmb}{bottz}7man: to exit once finished
09:27  {xmb}{bottz}7man: some fool yes
09:27  {xmb}{bottz}7man: heh
09:27  fluter: really, you can google this
09:27  twkm: timeouts are semi-horrible, as they presuppose you can guess congestion and length.
09:27  {xmb}{bottz}7man: i know man
09:28  {xmb}{bottz}7man: yeah
09:28  {xmb}{bottz}7man: send file info to server in one line
09:28  {xmb}{bottz}7man: the rest to file
09:28  {xmb}{bottz}7man: and its done
09:28  fluter: twkm: so what do you suggest?
09:28  {xmb}{bottz}7man: what i said =p
09:29  fluter: but the server wont quit, it keeps running, I need to find out a way to let it quit AUTOMATICALLY
09:29  fluter: when it should quit
09:29  twkm: a tool that already exists, though which is unclear since you won't come clean about what you are doing.
09:29  twkm: you obviously don't understand udp.
09:29  fluter: what tool?
09:29  twkm: depends on the super-sekr3t purpose you are hiding.
09:30  {xmb}{bottz}7man: udpftpd or something
09:30  {xmb}{bottz}7man: heh
09:30  twkm: but for instance ttcp or udpcast.
09:30  fluter: twkm: hey man, there is no sckr3t totally, I just run some tcp and udp traffic through the network and make sure it is good
09:31  twkm: then use a testing tool that already exists, such as ttcp, nettest or iperf.
09:31  {xmb}{bottz}7man: try darkstat for statistics
09:31  {xmb}{bottz}7man: and once its running tell me its args u run
09:31  fluter: ttcp can do udp?
09:32  fluter: heh
09:32  fluter: pretty funny
09:32  twkm:         -u      use UDP instead of TCP
09:32  fluter: lol
09:32  fluter: you are great man
09:32  {xmb}{bottz}7man: true
09:32  fluter: very true :)
09:32  {xmb}{bottz}7man: =:)
09:33  twkm: nettest is probably the best of those though, as it provides lots of information.
09:33  fluter: twkm: I dont find nettest, could point a link?
09:35  fluter: twkm: ??
09:36  fluter: not found on RHEL, what distribution are you running?
09:36  twkm: sorry, i meant netperf.
09:36  twkm: www.netperf.org.
09:36  fluter: twkm: you sure?
09:36  fluter: no kidding
09:36  {xmb}{bottz}7man: labman
09:37  fluter: I know netperf, I dont want to use it
09:37  twkm: *shrug*
09:37  fluter: it is too big, I want it as simple as possible
09:37  fluter: that's why I use nc instead
09:37  fluter: nc is just simple
09:37  twkm: but you are ignorant.
09:37  twkm: so it fails.
09:38  fluter: I am not ignorant, man,
09:38  twkm: yes you are, else you wouldn't be asking.
09:38  {xmb}{bottz}7man: uhu
09:38  fluter: no I am not, please dont be awful
09:39  {xmb}{bottz}7man: mooawk
09:39  twkm: fine: why isn't nc terminating?
09:39  fluter: I come here to learn, not to fight
09:39  {xmb}{bottz}7man: cause its ignorant
09:39  {xmb}{bottz}7man: lolx
09:40  {xmb}{bottz}7man: mate fluter
09:40  {xmb}{bottz}7man: try nc -uw 7
09:40  {xmb}{bottz}7man: and see if it quites
09:40  twkm: there is nothing wrong with being ignorant, but planning to do something when you are ignorant is usually a mistake.
09:41  {xmb}{bottz}7man: heh
09:41  {xmb}{bottz}7man: like fools are a waste of air eh
09:41  fluter: there is nothing wrong with being ignorant.. holly bullshit
09:41  twkm: you might solve your ignorance of udp, the end result would be a tool like one i've mentioned.
09:41  twkm: i think you think i meant you are stupid.
09:41  {xmb}{bottz}7man: holy schizzel
09:41  {xmb}{bottz}7man: nada
09:42  fluter: stupid and ignorant have no difference
09:42  {xmb}{bottz}7man: there may be eval
09:42  {xmb}{bottz}7man: but there are big diff
09:42  twkm: then you don't seem to own a dictionary.  or perhaps you are stupid.  *shrug*  /me wanders off
09:42  {xmb}{bottz}7man: own now man
09:43  {xmb}{bottz}7man: LOL
09:43  fluter: I dont want to say you are stupid, though
09:44  {xmb}{bottz}7man: tho
09:44  {xmb}{bottz}7man: fluter
09:44  fluter: {xmb}{bottz}7man
09:44  {xmb}{bottz}7man: lets continue with helping you
09:44  fluter: fine
09:44  lukinfore: +
09:44  {xmb}{bottz}7man: try -w <secs>
09:44  {xmb}{bottz}7man: eeee
09:45  fluter: {xmb}{bottz}7man: the problem is how would I know how long would it takes to transfer the file?
09:45  {xmb}{bottz}7man: naaah
09:45  {xmb}{bottz}7man: no worries
09:45  {xmb}{bottz}7man: it only watches this time for notraffic
09:45  fluter: no worries?
09:45  {xmb}{bottz}7man: that timeout i said in near beginning
09:45  {xmb}{bottz}7man: u should have tried this solution eh
09:45  {xmb}{bottz}7man: so try now
09:46  {xmb}{bottz}7man: nc -luw7
09:46  {xmb}{bottz}7man: ' yes i luw 7'
09:49  fluter: {xmb}{bottz}7man: the resulted file is corrupted
09:49  {xmb}{bottz}7man: hmmh
09:50  fluter: hey,
09:50  fluter: The -w flag has no
09:50  fluter:              effect on the -l option, i.e. nc will listen forever for a con-
09:50  fluter:              nection, with or without the -w flag.  The default is no timeout.
09:50  fluter: -w is no use on server
09:51  {xmb}{bottz}7man: try -q then
09:51  {xmb}{bottz}7man: for me it doesnt say that line
09:51  pgas: you need a protocol on top of udp
09:51  {xmb}{bottz}7man: he wants to
09:51  {xmb}{bottz}7man: quit once udp transfer is complete
09:51  {xmb}{bottz}7man: i got a solution
09:51  {xmb}{bottz}7man: nc -ul
09:51  {xmb}{bottz}7man: and
09:51  {xmb}{bottz}7man: a second one
09:51  {xmb}{bottz}7man: and on the client side u send the eof on the second one once its finished
09:51  {xmb}{bottz}7man: u catch for any line on the second server, and once recieved u kill both
09:51  {xmb}{bottz}7man: there tadaaa
09:52  pgas: udp is not reliable, you will have to check what you have received or not and in what order you received the packets
09:52  {xmb}{bottz}7man: prolly the order will be normal
09:52  {xmb}{bottz}7man: due to stupid router ware eevrywhere
09:52  {xmb}{bottz}7man: no funny shit
09:52  fluter: no funny shit
09:52  twkm: /me chortles more
09:53  {xmb}{bottz}7man: ownnowman
09:53 * fluter cant chortles
09:54  pgas: perhaps, but your file is corrupted, how do you know it's not because of funny shit?
09:54  fluter: pgas: yes, nc with udp just suck
09:55  LiohAu: hi
09:55  twkm: moo.
09:55  LiohAu: can anybody explain me how getopts works ? :)
09:56  {xmb}{bottz}7man: tru
09:56  {xmb}{bottz}7man: llphau, usage ?
09:56  twkm: it is a loop that checks for patterns.
09:56  {xmb}{bottz}7man: or how its coded
09:56  {xmb}{bottz}7man: yeah
09:56  twkm: ''help getopts''
09:56  {xmb}{bottz}7man: like my flags.sh
09:56  LiohAu: actually i'm trying to make a script with take 2 mandatory parameters ( -p somepath -h somehost )
09:57  tokam: hi, guys I am writing a bash script. I need to know the owner of a file, by the path of the file, how to do this best?
09:58  LiohAu: i can take the args, and see if there is an unknown option
09:58  {xmb}{bottz}7man: lioh i have that flags.sh but i dont remember its usage
09:58  {xmb}{bottz}7man: u may wanna take a look ? usage is inside
09:58  LiohAu: y
09:58  {xmb}{bottz}7man: tokam, ls -l or something stat
09:58  {xmb}{bottz}7man: sec llio
09:58  twkm: LiohAu: check later if the variables you set are set.
09:58  arvind_khadri: tokam, ls -l and then look up the respective field
09:58  LiohAu: they are
09:59  twkm: then the parameters were supplied.
09:59  fluter: but one should never parse output of 'ls'
09:59  LiohAu: but the thing i don't know is how to stop the script if getopts doesn't get everything he needs
09:59  tokam: arvind_khadri: with regex? gotta study regex for bash scripting.
09:59  {xmb}{bottz}7man: even a bigger fool wrote that maite
09:59  {xmb}{bottz}7man: also find -format can do that
09:59  {xmb}{bottz}7man: llio, //xmb.root.pe/code/3/flags.sh
09:59  arvind_khadri: tokam, regex is not needed i guess, cut the 3rd field using cut. thats the owner of the file
09:59  arvind_khadri: fluter, why not?
10:00  twkm: LiohAu: then you lied to me.
10:00  {xmb}{bottz}7man: man man man
10:00  pgas: LiohAu: you need to check that afterwards. ie if [[ -z "$param1" || -z "$param2" ]];then echo "die";exit;fi
10:00  LiohAu: lol we misunderstood maybe :d
10:00  fluter: arvind_khadri: cauze output of ls is not stable, and file names can contain any characters
10:00  LiohAu: pgas so getopts is useless no? :D
10:01  twkm: non-optional options are stupid anyway.
10:01  LiohAu: i could use a while on $# and shift it would do the same thing as getopts in this case no?
10:01  {xmb}{bottz}7man: kindofso
10:01  twkm: more and more programs do that, and it is beginning to be piss me off.
10:01  arvind_khadri: fluter, ohh, but its not just ls, ls -l to cut
10:01  {xmb}{bottz}7man: thats just cause they demand args
10:01  {xmb}{bottz}7man: how else to fix it
10:01  {xmb}{bottz}7man: by smart coding
10:01  {xmb}{bottz}7man: but not many do that
10:01  fluter: arvind_khadri: so what?
10:01  {xmb}{bottz}7man: so the world is pissed on
10:02  LiohAu: twkm: so what should i do?
10:02  LiohAu: ./script arg1 arg2 ?
10:02  pgas: LiohAu: getopts still does some things, just not that one
10:02  LiohAu: instead of ./script -o1 arg1 -o2 arg2 ?
10:02  {xmb}{bottz}7man: llioh, use what pgas wrote
10:02  {xmb}{bottz}7man: ./script arg1 arg2
10:02  {xmb}{bottz}7man: [[ ! $2 ]] && exec echo need two args
10:02  twkm: LiohAu: unset p h; while getops ... p) p=$OPTARG;; h) h=$OPTARG;; ... if [[ -z $p || -z $h ]]; then error ...
10:03  fluter: !ls
10:03  greybot: Don't try to parse ls output. http://mywiki.wooledge.org/ParsingLs
10:03  fluter: !ls -> arvind_khadri
10:03  {xmb}{bottz}7man: i know what mr fool wrote
10:03  fluter: !ls -> {xmb}{bottz}7man
10:03  {xmb}{bottz}7man: nada
10:04  {xmb}{bottz}7man: !ls -> sukajgy
10:08  arvind_khadri: fluter, thanks
10:08  fluter: you are welcome
10:08  danci1973: I have a list of hosts (host1 host2 host3 host 4 .... host600). I would like to use this list in a 'for' loop, but I need to take first 5 hosts and run 5 different commands on them (say 'cmd1 host1', 'cmd2  host2', 'cmd3 host3', 'cmd4 host4', 'cmd5 host5'. Then, in the next iteration I need to do the same for next 5 hosts ('cmd1 host6', 'cmd2 host7', ...).
10:08  danci1973: Is there a 'simple' way of doing this?
10:08  {xmb}{bottz}7man: yes
10:08  {xmb}{bottz}7man: why 5
10:09  {xmb}{bottz}7man: while <file read d; do cmd $d; cmd $d; : ..; done
10:09  {xmb}{bottz}7man: or <file while read ..
10:10  danci1973: {xmb}{bottz}7man: 5 is just an example... :) I'd like to distribute a couple of tasks on different server - right now I have 5 of them. :)
10:11  danci1973: {xmb}{bottz}7man: Wouldn't $d in your example always be the same?
10:12  pgas: yeah, IIRC you can only put the <file after the done
10:12  pgas: (unlike with simple commands)
10:13  danci1973: pgas: You can also do 'cat file | while read; do' ... But that's not solving my 'issue'. ;)
10:14  pgas: put the list in an array, use a c-like for loop
10:15  pgas: a=(foo bar baz bleh etc ...); for ((i=0;i<${#a[@]};i+=5);do cmd1 "${a[i]}";cmd2 "${a[i+1]}" ....
10:15  {xmb}{bottz}7man: i read control-c and similliar =p
10:15  pgas: hmm, in fact see:
10:15  pgas: !p,
10:15  pgas: !pm
10:15  greybot: http://mywiki.wooledge.org/ProcessManagement
10:15  {xmb}{bottz}7man: there
10:19  danci1973: pgas: I think that 'c-like' lioop will do what I need. Thanks!
10:22  palomer: hello
10:22  palomer: how do I find out all the lines in a file which contain lines longer than 80 columns?
10:23  {xmb}{bottz}7man: palower : awk ' length >80'
10:23  twkm: lots of ways.  perhaps there's a faq on it.
10:30  palomer: thx
10:41  ctruett: hey, i'm trying to echo the contents of an array I've built from stdout, but my normal ${array[@]} is only giving me a blank line
10:41  ctruett: here's the code thus far; i'm at a stump
10:42  ctruett: http://sprunge.us/GCDJ
10:42  ctruett: the echo $line is just for debug
10:42  geirha: !faq disappear > ctruett
10:42  greybot: ctruett: http://mywiki.wooledge.org/BashFAQ/024 -- I set variables in a loop. Why do they suddenly disappear after the loop terminates? Or, why can't I pipe data to read?
10:43  ctruett: greybot: thanks
10:44  pragma_: greybot: how rude, he said thanks
10:44  twkm: have you checked the faq on disappearing variables?
10:44  ctruett: I didn't even know of the faq
10:45  twkm: yeah, our topic is in invisible ink.
10:45  ctruett: aha, it's in the topic :p
10:45  ctruett: I spent about 20 minutes trying to find it on google, didn't really know what to search for
10:46  twkm: ahh.
10:47 --- faitz_ is now known as faitz
11:09 --- Weust`afk is now known as Weust`
11:10 --- mohan is now known as Guest69896
11:11  {xmb}{bottz}7man: can someone convert wma's to anything linuxable
11:14  twkm: can't everyone?
11:17  bartjol: I have a script that reads in a (rsync) command, executes the script, and echo's the output + some text into a file
11:17  bartjol: now that works fine
11:17  {xmb}{bottz}7man: tw, i cant open it with anything at all, so no
11:17  twkm: probably has drm.
11:18  bartjol: but, I want to get a part of the command into a variable so I dit a variable=`echo $command |grep -o regex`
11:18  {xmb}{bottz}7man: maybe, on wiz it workt
11:18  bartjol: but the variable doesn't get the value
11:18  twkm: missing quotes.
11:18  twkm: see the faq.
11:18  bartjol: ah
11:19  bartjol: read the f***ing faq, sorry
11:19  {xmb}{bottz}7man: fagging faq
11:19  {xmb}{bottz}7man: # x=$( echo x x) ;echo $x
11:19  evalbot: {xmb}{bottz}7man: x x
11:21  twkm: ffmpeg -i music.wma music.mp3 seems to have worked.
11:21  {xmb}{bottz}7man: merci will see
11:22  {xmb}{bottz}7man: unsupported codec
11:22  {xmb}{bottz}7man: it says
11:22  {xmb}{bottz}7man: =/ merci anyway
11:23  LiohAu: thx you all my script works
11:27  Untouchab1e: quick question... I have a bash script that retrieves my external IP and saves it to a file..
11:27  Untouchab1e: is there an easy way to use sed to replace the existing IP address in that file with the new one
11:29  twkm: probably.  ##sed should know.
11:29  Untouchab1e: twkm: love that sed has its own room
11:29  Untouchab1e: thanks
11:40  Evet: which file includes bind -l ?
11:40  {xmb}{bottz}7man: maybe .input[rc]
11:41  Evet: {xmb}{bottz}7man: hrm. there is no .input[rc]
11:42  geirha: The logical place to use the bind builtin would be bashrc
11:55  geirha: !ed > Untouchab1e
11:55  greybot: Untouchab1e: ed is a command-based file editor. See http://bash-hackers.org/wiki/doku.php?id=howto:edit-ed - http://sdf.lonestar.org/index.cgi?tutorials/ed - http://wolfram.schneider.org/bsd/7thEdManVol2/edtut/edtut.pdf
12:09  floh79: I'm trying to write Regex which accept words like "f.mueller". Whats wrong about this regex? "^[a-z]\.[-a-z0-9_]*\$"
12:10  floh79: Somewhat is wrong about the dot "\."
12:11  koala_man: # echo f.mueller | grep "^[a-z]\.[-a-z0-9_]*\$"
12:11  evalbot: koala_man: f.mueller
12:12  koala_man: what's wrong with it?
12:12  floh79: adduser: Please enter a username matching the regular expression configured
12:12  floh79: via the NAME_REGEX[_SYSTEM} configuration variable.  Use the `--force-badname'
12:12  floh79: option to relax this check or reconfigure NAME_REGEX.
12:13  floh79: So regex is right what I did? Thanx now I know I can test with grep (why didn't I get such idea earlier?)
12:14  cthuluh: floh79: why do you need such names? for mail (in order to give someone an address like f.mueller@example.org)?
12:15  floh79: Not for mail.
12:16  cthuluh: have fun then
12:16  floh79: Its because of company-policy.
12:16  floh79: cthuluh: I know.
12:16  Merchelo: hi
12:17  geirha: And why are you using grep?
12:17  Merchelo: quick question
12:17  cthuluh: quick answer
12:17  geirha: Ooh, that really was a quick answer.
12:17  Merchelo: what does ^M do when it's added to the end of a line in a file, like does it specify end of file or something?
12:17  floh79: geirha: Because adduser uses it.
12:17  geirha: !cr > Merchelo
12:17  greybot: Merchelo: Carriage Return (ASCII 13). Often written as ^M or \r. CRs are found just before newlines in text files generated by DOS/Windows apps. You can see them with "cat -e". See http://mywiki.wooledge.org/BashFAQ/052 to get rid of them.
12:17  Merchelo: cool
12:17  cthuluh: _that_ was a really quick answer :>
12:18  Merchelo: haha
12:18  Merchelo: thanks
12:21  geirha: floh79: Ah I see. And the man-page neglects to mention what type of regex it uses. Lovely. :)
12:21  geirha: It's probably ERE though.
12:22  floh79: geirha: Sorry... I'm not fully familiar with regex. Never heard there are different types of regex. :-O
12:23  geirha: There's BRE which grep uses, ERE which bash and grep -E uses, and then there's the perl variety
12:23 --- sn181 is now known as sn18
12:23  geirha: floh79: Anyway, in the configfile, you probably don't want to escape the $.
12:25  floh79: geirha: Ok, thanx. $ was already escaped there (as a comment in last line).
12:25  floh79: geirha: I just added a dot after first letter.
12:25  cthuluh: less $(which adduser) tells me it's a Perl script, so I'd go for Perl RE
12:26  floh79: cthuluh: Good point. I'll look after perl RE.
12:26  cthuluh: floh79: use [[:alpha:]] instead of [a-z], it's less error-prone when you have multiple locales
12:26  geirha: cthuluh: whichcraft! :P
12:27  cthuluh: hmmm, didn't know this term :)
12:31  geirha: file "$(type -P adduser)"
12:32  pgas: typecraft!
12:33  cthuluh: I prefer 'which' for interactive use
12:34  floh79: geirha: You're right. It was because $ was escaped.
12:34  floh79: geirha: I removed "\" before "$", now it works.
12:34  floh79: @all: Thank you very much. :)
12:34  geirha: cthuluh: which() { type -P "$@"; }  ;P
12:35  geirha: Beats that 50+ lines script
12:36  pragma_: Use more quotes.
12:37  cthuluh: :))
12:42  cthuluh: !learn [: Character classes like [a-z] or [A-Z0-9] may behave strangely in non-POSIX locales. If you want your script to work locale-wise, use [[:lower:]] or [[:upper:][:digit:]] instead. Remember to always quote your character classes, as they may be expanded by the shell as file globs. See also !locale
12:42  greybot: OK, cthuluh
12:43  pragma_: !:)
12:43  cthuluh: Hmmm
12:47  icarus-c: how would you convert a ASCII string to hex or vice versa?   echo "ABC" | hexdump    output something like   4241  0a43  (which are  B-A  C-\EOF) due to endianess i guess?
12:47  icarus-c: how do i make it output in original order
12:48 --- mattisfreenode is now known as ma10s
12:49  erUSUL: !faq hex
12:49  greybot: http://mywiki.wooledge.org/BashFAQ/071 -- How do I convert an ASCII character to its decimal (or hexadecimal) value and back?
12:51  geirha: 4# od -An -tx1 <<< "ABC"
12:51  shbot: geirha:  41 42 43 0a
12:53  icarus-c: geirha, thanks
12:54  geirha: 0a is newline btw, not EOF
12:55  icarus-c: argh
13:06  mooperd: hi, what would be the most efficient way to generate a random number from between 0.1 and 2.6
13:07 --- The-Comp1ler is now known as The-Compiler
13:07  pgas: with what precision?
13:09  mooperd: pgas: no precision I just want to make lights flash at random points to impress the dean
13:09  pgas: I mean you want 0.2 0.3 etc...or 0.35 is ok?
13:10  b0ot: Are there default bash values that would allow you to send specific hex values?
13:11  {xmb}{bottz}7man: echo $"\x77"
13:11  pgas: ITYM $'\x77'
13:12  pgas: !faq hex
13:12  greybot: http://mywiki.wooledge.org/BashFAQ/071 -- How do I convert an ASCII character to its decimal (or hexadecimal) value and back?
13:22  mooperd: pgas, 0.35 would be perfect
13:23  cthuluh: man bc
13:23  cthuluh: err
13:23  pgas: mooperd: but then you also want 0.55555555?
13:23  mooperd: 0.55555555.... I sit and dream about the days when I get 0.5555555555
13:24  mooperd: not 0.75664 though. If I see that number I get very upset
13:25  pgas: ok smartie. use awk
13:25  Bushmills: mooperd: generate one between 100 and 2600, and think of the results as "thousands"
13:25  Bushmills: thousandths
13:25  b0ot: pgas: that seems to work perfectly except fo x00
13:25  b0ot: is there a special variable for that
13:26  pgas: you cannot put x00 in a variable
13:26  b0ot: is there anyway to send a null byte
13:26  pgas: Bushmills: though he doesn't seem to be able to tell us what precision he needs
13:27  Bushmills: RANDOM only yields 15 bits AFAIK
13:27  geirha: b0ot: printf '\0'
13:27  b0ot: thanks
13:28  pgas: Bushmills: yes, I think awk random() is a bit better, not sure though and It might be system dependant
13:29  Bushmills: or shift-and-or RANDOM several times.
13:29  b0ot: geirha: didn't work
13:30  cthuluh: b0ot: you can send a NUL byte (pipe it to another program) but you can't it in a bash variable
13:30  cthuluh: you can't store* it
13:30  pgas: # printf '\0' | sed -n l
13:30  evalbot: pgas: \000$
13:30  geirha: 4# printf '\0\0' | od -An -tx1
13:31  shbot: geirha:  00 00
13:31  b0ot: cthuluh: I'm using netcat to send UDP data stream and I need a certain header at the beginning using 0x009a001f
13:31  b0ot: I can get the 9a and the 1f
13:31  b0ot: but i can't get the zeros
13:31  pgas: # printf '%c' 0 | sed -n l
13:31  evalbot: pgas: 0$
13:31  pgas: erm
13:31  pgas: b0ot: what have you tried exactly
13:32  geirha: printf '\x00\x9a\x00\x1f'
13:32  geirha: And as mentioned before, you cannot store that in a variable.
13:32  b0ot: right now im doing something like echo $'\x9A'$'\x00'
13:33  b0ot: right now im doing something like echo $'\x9A'$'\x00' | nc -u 10.1.40.54 1234
13:35  pgas: use printf, $'\x00' is useless, it's equivalent to ''
13:40  geirha: 4# echo $'\x00' | od -An -tx1
13:40  shbot: geirha:  0a
13:50  g[r]eek: Hi, I have a few files whose name's all have the prefix foo- and I'd like to rename all the files so that the prefix is dropped, ie: foo-myfile becomes myfile
13:50  koala_man: !faq rename
13:50  greybot: http://mywiki.wooledge.org/BashFAQ/030 -- How can I rename all my *.foo files to *.bar, or convert spaces to underscores, or convert upper-case file names to lower case?
13:52  g[r]eek: koala_man: thans
13:52  koala_man: if you don't have a rename command, you can use the given loop with ${f#foo-}
13:53  g[r]eek: koala_man: rename worked :) thanks
13:54  g[r]eek: cheers
14:02  Sereph: is there a way to specify the first part of a filename ie the number before a mp3 that notes the track number from bash?
14:03  koala_man: !pe > try this
14:03  greybot: try this: Parameter Expansion is the expansion of a parameter: "$foo", "$1". You can use it to perform string operations: "${file%.mp3}", "${0##*/}". Remember to *always* quote them. See http://mywiki.wooledge.org/BashSheet#Parameter_Operations
14:03  Sereph: ok :)
14:13  Sereph: koala_man: where in the for loop should i be expanding them?
14:14  koala_man: whenever you need them
14:14  Sereph: well say im doing for mp3 in *.mp3; do id3 -T tracknumber
14:15  Synthead: you know how ctrl-G searches the history, and hitting ctrl-G many times will go back in the history?  is there a way to go forward in the history if you accidentally skip what you're looking for?
14:16  pgas: you mean ctrl-R ?
14:16  Sereph: koala_man: should i use an array?
14:16 --- Trouble is now known as Varista`nb
14:16  chairabanta: Hi, Can someone could check my little script I would get stdout from cat $NAUTILUS_SCRIPT_SELECTED_FILE_PATHS | wgetpaste and put in a gdialog how do I do that?
14:16  Synthead: pgas, that's right, Ctrl-R
14:17  chairabanta: http://pastebin.ca/1986276
14:17  hal: in my system's bash.bashrc I have a line PATH=/new/path/to/insert:"${PATH}"  Can you tell me what the quotes and brackets achieve, please?
14:17  pgas: Synthead: there is control-s but you need to disable flow-control, with eg: stty -ixon
14:18  lesshaste: is it possible to count fields from the right .. I want to use cut -f X  but I need to count from the righthand end, not the left
14:18  pgas: Sereph: see faq #2
14:19  pgas: hal: in this particular case they are both useless
14:19  lesshaste: this is because I have lines like "first name" "surname" 110082 "TEST L1" 49.9 51.2 50.6 16/01/2010
14:19  hal: ok pgas thank you.  What do they do?  What are they normally used for?
14:21  pgas: !quotes
14:21  greybot: "USE MORE QUOTES!" They are vital. Also, learn the difference between ' and " and `. See <http://mywiki.wooledge.org/Quotes> and <http://wiki.bash-hackers.org/syntax/words>.
14:21  chairabanta: In others words how do I put stdout in a variable?
14:21  pgas: chairabanta: see faq2
14:21  chairabanta: pgas, ok
14:22  shai__: Hi :) I have a list of filenames that I want to exclude from the find command. How can I use -regex or -name to accomplish an exclude of that list of filenames?
14:24  pgas: ! -name
--- Log closed Tue Nov 09 14:30:07 2010
--- Log opened Tue Nov 09 14:30:29 2010
14:30 --- Users 534 nicks [0 ops, 0 halfops, 0 voices, 534 normal]
14:31  n1x0n: Touns: as in printf "%q" this is a test with many spaces
14:32 --- Channel #bash was synced in 105 seconds
14:32  geirha: Touns: You're working on wrong assumptions.
14:32  geirha: !faq 20 > Touns
14:32  greybot: Touns: http://mywiki.wooledge.org/BashFAQ/020 -- How can I find and deal with file names containing newlines, spaces or both?
14:32  Touns: thank you
14:33  geirha: shai__: Ok, so you have a list of filenames separated by newlines in a file. These are the basenames, or full paths?
14:34  hal: pgas: thank you for bash-hackers - it's beautifully explained :)   So to summarise, in "${PATH}", the quotes are important but in this case the brackets are superfluous?
14:34  shai__: basenames
14:34  shai__: geirha:
14:37  geirha: excludes=(); while IFS= read -r filename; do excludes+=(! -name "$filename"); done < filelist
14:37  geirha: find ... "${excludes[@]}" ...
14:40  shai__: geirha: this seems neat. Where does "${excludes[@]}" fit into the find? Under what parameter?
14:40  hal: Could someone tell me, in "${PATH}" in the path list I posted above, the quotes are important but in this case the brackets are superfluous, aren't they?
14:42  hal: eg   PATH=/new/path/to/insert:"${PATH}"
14:42  pr0mised: hello! i need know if exit some method to get all urls with md5 of the a website.. as an scan that will write for example..... <md5> <complete url> | 1921928191289128 http://www.md5.com/page-about-me.php
14:42  pr0mised: exist*
14:42  Touns: geirha: ok, but I use a find. Then I used xargs to display the date on avery directory find. Then I order each directory by the date. After that I remove the display of the date, and I get again my directory name with space and other special caractere. So how do I do to to the same treatment to the input like the option "-print0" from find, but without the find command, just from the input please ?
14:42  ctruett: I know curl can output to file, but what would be a good way of doing curl operations when looping through a large list?
14:43  ctruett: right now I'm doing multiple queries to the same file, but it's very inefficient
14:43  ctruett: esp for 10+ items in the loop
14:44  shai__: geirha: where does "${excludes[@]}" get placed in the find command arguments?
14:48  Touns: geirha: oh, I see other clue on the FAQ, sorry, I read it again
14:49  pgas: hal: yes, though since worldsplitting and pathname expansion don't occur when you assign a variable, the " " are also useless
14:49  paissad: i want to find files beggining  with alert but not ending with .jar ... here is what i did , but it's obviously wrong ^^
14:49  paissad: find /path -type f -name "alert" -o -name ! "*.jar"
14:49  paissad: how should i proeed ?
14:50  hal: pgas: oh really?  I didn't get that impression from the docs you posted.  see http://wiki.bash-hackers.org/syntax/words and search for "Initial commandline splitting"
14:51  hal: MYFILE is a variable that has been assigned pgas
14:53  pgas: # var="foo   bar";var2=$var;echo "$var2"
14:53  evalbot: pgas: foo   bar
14:58  geirha: shai__: See the UsingFind page
15:06  shai__: geirha: will do, thank you.
15:09  shai__: geirha: seems to be working :) thank you!
15:09 --- Weust` is now known as Weust`afk
15:14 --- jzacsh_ is now known as jzacsh
15:21  shai__: geirha: what change would I need to make to the while loop should those be full paths instead of filenames?
15:23  shai__: geirha: s/-name/-path/ ?
--- Log closed Tue Nov 09 15:30:40 2010
--- Log opened Tue Nov 09 15:31:00 2010
15:31 --- Users 543 nicks [0 ops, 0 halfops, 0 voices, 543 normal]
15:31  pr0mised: hello! i need know if exit some method to get all urls with md5 of the a website.. as an scan that will write for example..... <md5> <complete url> | 1921928191289128 http://www.md5.com/page-about-me.php
15:32  trash: The md5 hash of the SITE or the URL?
15:32 --- Channel #bash was synced in 103 seconds
15:34  pr0mised: trash: i need get md5 on my pages using curl because are in php, but i have 100 pages i need put 100 x to use curl? curl ... curl... don't exist some method that i get md5 using curl from all pages from my website and write this on a file using <MD5> <URL>
15:34 --- jzacsh is now known as jzacsh_
15:34  chairabanta: I think I will learn python perhaps it is more adapted
15:34  BBonifield: i'm trying to decipher a little bash script.  what does this line mean? --   sub=${DIR##$BASE_DIR} - i'm just trying to figure out what the ${ ## } syntax is for.
15:35  pr0mised: for example: 7f896c6a8f6e36b9dacd90dd1579bfb2 http://php.net/manual/en/index.php
15:36  trash: !pe > BBonifield
15:36  greybot: BBonifield: Parameter Expansion is the expansion of a parameter: "$foo", "$1". You can use it to perform string operations: "${file%.mp3}", "${0##*/}". Remember to *always* quote them. See http://mywiki.wooledge.org/BashSheet#Parameter_Operations
15:36  pr0mised: trash: example: curl http://php.net/manual/en/index.php 2> /dev/null| md5sum | awk '{print $1}' but it 'll give me just MD%
15:36  pr0mised: md5*
15:37  BBonifield: trash: ahh right on.  i thought that's what it was via the context but i wanted to make sure.  thanks!
15:37  trash: BBonifield: Also:
15:37  trash: !varcaps
15:37  greybot: By convention, we capitalize environment variables (PAGER, EDITOR, ..) and internal shell variables (SHELL, BASH_VERSION, ..). All other variable names should be lower case. Remember that variable names are case-sensitive; this convention avoids accidentally overriding environmental and internal variables.
15:39  superlinux: hi all. I wonder whether there is a command  to dump one string into many files at once. so is there?
15:40  superlinux: hi all. I wonder whether there is a command  to dump one string into a number of  files at once. so is there?
15:42  trash: superlinux: tee file1 file2 file.. <<<"string"
15:43  superlinux: ah ok
15:43  superlinux: i thought so
15:43  superlinux: trash, thanks
15:48  superlinux: trash, what if I want to PRE-pend the string, not APpend?
15:49  superlinux: ..as in put the string on the top of each file?
15:49  trash: !faq prepen
15:49  greybot: http://mywiki.wooledge.org/BashFAQ/090 -- How do I prepend a text to a file (the opposite of >>)?
15:51  superlinux: trash, thanks
15:53  pr0mised: hello! someone know if exist an method that i get all urls from my web site?
15:53  chalcedony: i'm trying to recover the bot's commands from a channel log, i need to grep for lines that start with '.' .. can someone help me please?
15:54  chalcedony: pr0mised, grep http *filename* usually works
15:54  irc2samus: chalcedony grep '^\.'
15:54  pr0mised: chalcedony: what?
15:54  chalcedony: irc2samus, ty
15:54  pr0mised: chalcedony: i don't know use.
15:55  chalcedony: pr0mised, grep is search
15:56  pr0mised: chalcedony: my website are in a webserver... i want get all url list from my website... i was try with curl but curl don't get all pages just one.
15:56  chalcedony: pr0mised, ah .. sorry
15:57  pr0mised: chalcedony: do you know how to this?
15:57  chalcedony: irc2samus, for some reason: $ grep Rufus ./*\#usrnmstra* | grep '^\.' | less  - gets me everything with Rufus in it.
15:57  geirha: pr0mised: lynx -dump -listonly -nonumbers 'http://example.com/foo.html'
15:57  chalcedony: i just want his bot commands
16:00  caotic: how can I highlight a search on a text in bash (showing the complete text, greps only shows lines that match )
16:00  pr0mised: geriha: great! now to get just urls with .php? | grep *.php ?
16:01  geirha: caotic: grep -e '' -e 'foo'
16:01  geirha: pr0mised: grep '\.php$'
16:02  caotic: geirha: thanks, Ill try that
16:02  pr0mised: geirha: thanks
--- Log closed Tue Nov 09 16:07:45 2010
--- Log opened Tue Nov 09 16:08:09 2010
16:08 --- Users 548 nicks [0 ops, 0 halfops, 0 voices, 548 normal]
16:08  chalcedony: irc2samus, now i get nothing?
16:09  irc2samus: are you doing: grep '<Rufus> \+\.' ./*\#usrnmstra* | less
16:09  chalcedony: irc2samus, yes
16:09 --- Channel #bash was synced in 110 seconds
16:09  irc2samus: strange, it works here
16:10  irc2samus: sure there's matches on the files you're greeping?
16:10  chalcedony: $ grep '<Rufus> \+\.' ./*\#usrnmstra* | less
16:10  chalcedony: yes it got lots of lines with the other searches
16:11  irc2samus: can you pastebin one of those files? there's something I'm not missing from here
16:12  chalcedony: ok
16:15  chalcedony: irc2samus, http://chalcedony.pastebin.com/VPj69yvc
16:19  pr0mised: hey if i have http://mysite/lol/iaiai.php i want remove /lol/ and put just http://mysite/iaiai.php ? cut?
16:19  pr0mised: | cut ...?
16:21  geirha: You want to remove the second last component, or the first?
16:22  geirha: i.e. http://mysite/lol1/lol2/iaiai.php  which lol should be removed?
16:22  shai__: geirha: I'm having some difficulty with the find and the exclude.
16:22  shai__: Can I msg you to send you some details?
16:23  shai__: Please.
16:23  pr0mised: my url is http://mysite.com/lol/index.php i want remove lol so be.. http://mysite.com/index.php
16:24  Knirch: # a=http://mysite.com/lol/index.php ; echo ${a//lol\/}
16:24  evalbot: Knirch: http://mysite.com/index.php
16:24  paissad: i want to find files beggining  with alert but not ending with .jar ...
16:24  paissad: find /path -type f -name "alert" -o -name ! "*.jar"
16:24  paissad: it's wrong, how should i proceed ?, thanks in advance
16:24  geirha: shai__: I'd prefer to stay in channel.
16:24  trash: -a ! -name
16:25  geirha: find /path -type f -name "alert*" ! -name "*.jar"
16:25  hal: I am having trouble finding all files containing the word hello but also excluding .svn direcoties.  I have this so far that does not work...   find ./ -path ".svn" -prune -print -type f -exec grep -Hi hello \{\} \;
16:25  geirha: !find > paissad
16:25  greybot: paissad: http://mywiki.wooledge.org/UsingFind
16:26  shai__: geirha: when I echo the excludes list (trimmed it to a single path during my tests) and then use the output of the echo in my find, it really does excludes the path.
16:26  shai__: echo ${EXCLUDES[@]}
16:26  shai__: ! -path '/var/www/static/vds/v_3786/p_478/test_1612/*'
16:26  shai__: My command: find /var/www/static/vds/v_3786/p_478 ! -path '/var/www/static/vds/v_3786/p_478/test_1612/*' -name "page_*.js" -exec grep -L '[^a-zA-Z0-9]' {} +
16:26  geirha: shai__: That's the output of that echo? If so it's wrong.
16:27  shai__: it is, and it really does exclude the path though.
16:27  geirha: You've added literal quotes
16:27  shai__: They seem to be needed.
16:27  geirha: They are not
16:27  geirha: You want shell quotes to avoid the glob to expand, but you do not want literal quotes.
16:28  shai__: Shell quotes? ie " " ?
16:28  shai__: If I don't use them, I get an error from find
16:28  greycat: !faq 50 > shai__
16:28  greybot: shai__: http://mywiki.wooledge.org/BashFAQ/050 -- I'm trying to put a command in a variable, but the complex cases always fail!
16:28  shai__: find /var/www/static/vds/v_3786/p_478 ! -path /var/www/static/vds/v_3786/p_478/test_1612/* -name "page_*.js" -exec grep -L '[^a-zA-Z0-9]' {} +
16:28  geirha: excludes=( ! -path '/var/www/static/vds/v_3786/p_478/test_1612/*'); find ... "${excludes[@]}" ...
16:28  greycat: This is just like that guy on the mailing list yesterday.
16:28  shai__: find: paths must precede expression: /var/www/static/vds/v_3786/p_478/test_1612/weblet_23193
16:28  chalcedony: irc2samus, i have to go but i'll read up later and find your answer, thank you a lot!
16:29  geirha: shai__: Your error is not quoting the expansion of the array. "${array[@]}", not ${array[@]}
16:29  geirha: !args > shai__
16:29  greybot: shai__: Understanding Arguments and Word Splitting: http://mywiki.wooledge.org/Arguments
16:30  shai__: I don't follow you ...
16:30  greycat: Has he read FAQ 50 yet?
16:30  shai__: Reading ...
16:31  geirha: shai__: What I showed you was the correct way. You ruined it by not quoting. Then you tried added literal quotes, which will fail.
16:31  geirha: *by not quoting the expansion of the array
16:32  greycat: Or read this thread including the responses:  http://lists.gnu.org/archive/html/bug-bash/2010-11/msg00016.html
16:32  shai__: In my find, I did quote it.
16:32  shai__: find /var/www/static/vds/v_3786/p_478 "${EXCLUDES[@]}" -name "page_*.js" -exec grep -L '[^a-zA-Z0-9]' {} +
16:33  geirha: shai__: Yes, that is correct. And how do you build the array?
16:33  greycat: that looks reasonable so far.
16:33  shai__: EXCLUDES=(); while IFS= read -r filename; do EXCLUDES+=(! -path "$filename"); done < ./excludes.orig
16:34  shai__: cat ./excludes.orig
16:34  shai__: '/var/www/static/vds/v_3786/p_478/test_1612/*'
16:34  greycat: Remove the literal quotation marks from the file.
16:34  geirha: shai__: remove the quotes inside the file
16:34  shai__: Ok
16:34  irc2samus: chalcedony pastebin says: Unknown paste ID, it may have expired or been deleted!
16:34  shai__: :) worked ...
16:36  geirha: now lowercase that array name.
16:36  geirha: !varcap
16:36  greybot: By convention, we capitalize environment variables (PAGER, EDITOR, ..) and internal shell variables (SHELL, BASH_VERSION, ..). All other variable names should be lower case. Remember that variable names are case-sensitive; this convention avoids accidentally overriding environmental and internal variables.
16:37  shai__: Agreed :)
16:38  shai__: First I need to continue checking why this isn't working in my script :)
16:38  shai__: It worked in command line... but not in the script (yet)
16:38  greycat: make sure the script is actually being run by bash
16:38  shai__: I've got: #!/bin/bash
16:38  shai__: and I run it manually from bash
16:38  shai__: Isn't that enough?
16:38  greycat: Just checking.  It's very common....
16:38  geirha: with   ./script  ?
16:39  shai__: geirha: no. It is in the path (/usr/local/bin/script
16:39  geirha: Ah.
16:40  geirha: Make sure you haven't ommited any of the "" quotes that you had in the code snippets you just pasted.
16:40  shai__: Tripple checking... but so not I have not missed out on any.
16:40  geirha: set -x then
16:40  geirha: !-x
16:40  greybot: Setting the -x option on bash enables a debugging mode that makes bash output the command name and arguments that it will run (after all parsing and expansion has been applied). Set it by starting a script with ''bash -x ./myscript'' or putting ''set -x'' before the code you want to debug. ''set +x'' turns this behaviour off.
16:41  hal: I am trying to exclude the .svn directories but nothing I try is working. Could someone offer some advice please?   find ./ ! -path .svn -type f -exec grep -Hi hello \{\} \;
16:42  greycat: !svn
16:42  greybot: If you're considering removing .svn directories, first read "svn --help export". If you're still convinced: find . -depth -name .svn -exec rm -rf {} \; To remove everything but the svn directories: find . -name .svn -prune -o -exec rm -rf {} \;
16:42  greycat: Hm, that factoid is still odd.
16:42  greycat: !prune
16:42  greybot: see http://mywiki.wooledge.org/UsingFind or example: find . -name .svn -prune -o \( ... what you really wanted ... \) -print
16:43  geirha: I use ''svn help'' rather than ''svn --help''
16:44  greycat: Also, you don't have to backslash-escape the {}
16:46  greycat: In real life:  wooledg@wooledg:~/t-engine4/game/modules/tome$ grep -r Onyx .    produces two lines of output, one of them in a .svn file
16:46  greycat: wooledg@wooledg:~/t-engine4/game/modules/tome$ find . -name .svn -prune -o \( -type f \) -print0 | xargs -0 grep Onyx /dev/null      produces only the desired non-.svn result.
16:46  greycat: But my god, that's ugly.
16:47  geirha: -exec grep ...
16:47  greycat: I'm not convinced that's an improvement.
16:47  ManDay: What does it have to be so that PROGRAM1 does not receive a SIGHUP upon closing the terminal?     xterm -e <WHAT> PROGRAM1 ?
16:47  greycat: nohup
16:47  greycat: also... WHICH terminal?
16:48  ManDay: greycat: xterm?
16:48  ManDay: what?
16:48  ManDay: nohup doesnt work. nothing comes up the swawning xterm immediately quits thereafter
16:48  greycat: there are (probably) at least two terminals involved in this question -- the one you're typing that in, and the one you created
16:48  ManDay: consider both an xterm (urxvt-unicode in fact)
16:48  geirha: svngrep() { find . -name .svn -prune -o -exec grep "$@" /dev/null {} +; }; svngrep 'foo'
16:48  greycat: Which one are you CLOSING?
16:49  ManDay: the one that got the -e and should contain the (ncurses)-PROGRAM1
16:49  greycat: you're closing the controlling terminal of a CURSES-based program and expecting it to survive and continue running?
16:50  greycat: what's it supposed to do?
16:50  ManDay: greycat: no, but the subsequent processes that PROGRAM1 started
16:50  ManDay: because if i dont do anyhting about it, they will get killed too!
16:50  ManDay: which is a big problem im not able to solve yet
16:50  greycat: I don't think I can even attempt to reproduce this.
16:50  ManDay: greycat: its easy
16:50  greycat: I doubt I can come up with a three-layer thingy that matches this.
16:50  ManDay: do you have midnight commander by any chance :P
16:51  greycat: ... no.
16:51  ManDay: ok, it should work with a bash app too tho
16:51  ManDay: let me see
16:51  aborticide: ManDay: the good thing about this channel is we can try expressions with the bot
16:51  aborticide: # echo meow
16:52  evalbot: aborticide: meow
16:52  twkm: feh.
16:52  ManDay: aborticide: the bot has no means of simulating my issue
16:53  aborticide: it can simulate expressions with syntax and nohup so we know things are working correctly
16:53  ManDay: greycat: just reproduce the "three" layer setup xterm -->  xterm -e ---> some-console-based-app ---> some-app
16:53  greycat: I ran   xterm -e nohup sleep 100 &   and then I destroyed the xterm ("close" didn't work), and the sleep lived.
16:53  ManDay: clsoing "some-console-based-app" will kill  "some-app"
16:53  playserver: hi, is there a command like 'sleep', but with the addition of some sort of countdown ?
16:53  greycat: I don't have a curses-based app that launches a daemon.  Not that I can think of.
16:53  ManDay: a daemon?
16:54  playserver: like "next update in 12 seconds"
16:54  greycat: playserver: you could write a loop...
16:54  ManDay: greycat: doesnt have to be curses. just anything that can fork a process
16:54  aborticide: define the command in a function or script and then run that through xterm
16:54  playserver: greycat: with multiple sleep commands?
16:54  greycat: ManDay: did    xterm -e nohup sleep 100 &    not work for you?
16:54  greycat: !faq spinner
16:54  greybot: http://mywiki.wooledge.org/BashFAQ/034 -- Can I do a spinner in Bash?
16:55  ManDay: greycat: that & will refer to the xterm! that is not helping!
16:55  greycat: hm, not there, but it links to progress bars...
16:55  playserver: greycat: thanks
16:55  greycat: ManDay: I don't know what you want.
16:55  ManDay: greycat: let me see. ill try that with MC
16:56  greycat: I guess the wiki doesn't have any countdown examples yet, but I think I wrote one once.  Must've been in-channel.
16:56  ManDay: greycat: that command closes the terminal instantly it doesnt stay open.
16:56  greycat: (and of course the & refers to the xterm.  what else?)
16:56  ManDay: thats of course not what i want
16:56  greycat: huh?
16:56  ManDay: greycat:    xterm -e nohup mc &   will not work
16:56  greycat: No, it doesn't.  I get an xterm with "Sending output to nohup.out" in its window.
16:56  ManDay: i will not get mc that way
16:57  ManDay: greycat: hm.    if I   run   xterm -e nohup sleep 100 &   the term spawns and then instantly disappears
16:57  ManDay: maybe thats because its urxvt
16:57  ManDay: ?
16:57  ManDay: but can that really be?
16:57  greycat: I tested on HP-UX 10.20.
16:58  greycat: When I repeat the test on Debian 5.0, I get what you said.
16:58  aborticide: probably
16:58  aborticide: greycat: in gentoo nohup gives that output as well
16:59  sp1k3: hi
16:59  sp1k3: i need help pls
16:59  greycat: aborticide: did you test the entire xterm -e ... command?  Did the window stay open, or close instantly?
16:59  aborticide: no
16:59  ManDay: aborticide: *what* output?
16:59  ManDay: i got gentoo, too
16:59  aborticide: nohup.out thing he pasted
16:59  ManDay: what xterm?
16:59  greycat: !ask
16:59  greybot: You need not ask permission to ask a question. Just ask and be patient. http://mywiki.wooledge.org/NetEtiquette
16:59  aborticide: ManDay: 262
17:00  aborticide: without any of the USEs
17:00  ManDay: is that the terms name o.O ?
17:00  aborticide: that's the version
17:00  aborticide: eix xterm
17:00  ManDay: ok so xterm
17:00  ManDay: i use urxvt
17:00  aborticide: you said xterm
17:00  aborticide: which one is it?
17:00  pgas: take care that on linux the "mc" you run is often a function wrapper
17:00  ManDay: pgas: i think id know that
17:00  ManDay: pgas: or how do i find out...
17:00  ManDay: ?
17:01  greycat: "type mc"
17:01  ManDay: its the binary, thanks
17:01  greycat: I can't explain why Debian's xterm acts differently than HP-UX's.
17:01  greycat: Probably an issue for your OS channel.
17:02  aborticide: personally choice that's why
17:02  sp1k3: only 1 question
17:02  playserver: ok, that progress bar is just fine
17:02  playserver: for now
17:02  playserver: thanks greycat
17:03  greycat: 11:03 Ignoring MSGS from sp1k3
17:03  greycat: !ask
17:03  greybot: You need not ask permission to ask a question. Just ask and be patient. http://mywiki.wooledge.org/NetEtiquette
17:03  greycat: Ask IN THE CHANNEL and be patient.  Not "harass a random channel person".
17:04  ManDay: greycat: its weird.  i tried  xterm -e bash -c 'sleep 1; nohup mc; sleep 1'    and i get   nohup: ignoring inout and appending output to ....  and then nothing works any more. no ^C ^Z ^D - nothing  and the xterm remains open
17:05  greycat: hmm, I have to wonder if xterm is respecting those quotes or if it's re-parsing...
17:05  ManDay: greycat: it s not about the quotes, the syntax is fine - at least for urxvt
17:06  ManDay: (if i replace   nohup mc   by echo abc   it works as expected)
17:06  greycat: This works on both HP-UX and Debian:   xterm -e bash -c 'sleep 1; echo x; nohup sleep 3; echo y; sleep 1'
17:06  greycat: So I guess there's no re-parsing crap going on.
17:07  sp1k3: bash.exe --login -i -c is not working why?
17:07  greycat: -c expects a script to follow it
17:07  sp1k3: right
17:07  sp1k3: from metasploit
17:08  greycat: I mean, follow it as the next argument, on the same command line as the -c.
17:08  greycat: Not as in "I'll type one later".
17:08  sp1k3: in last time i use the 2.0 and it work fine bur now i user the 3.5.1 and nothing
17:08  greycat: !exact
17:08  greybot: Please tell us EXACTLY what you typed, and EXACTLY what the error is.
17:09  sp1k3: mom
17:09  ManDay: im not your mom
17:09  ManDay: sorry kid
17:09  sp1k3: for /f "eol=; tokens=1*" %%i in (%Results%) do "D:\Program Files\Metasploit\Framework3\bin\"bash.exe --login -i -c "/msf3/modules/exploits/linux/ftp/proftp_telnet_iac RHOST=%%i LHOST=%VeriLHOST%"
17:09  sp1k3: hehe
17:09  sp1k3: this
17:10  greycat: You have an odd number of quotes.
17:10  ManDay: bash.exe
17:10  greycat: There should be an even number.
17:10  ManDay: i see an even number
17:10  greycat: Unless the \" one counts.  I have no idea.  You appear to be in some shell that is not Unix-based.
17:10  ManDay: greycat: we call it windows shell
17:11  cthuluh: *blink*
17:11  ManDay: unless the 'D:' is a devestated smily
17:11  greycat: Anyway, it looks like a plain old syntax error to me.
17:11  sp1k3: hmmm
17:12  qubit: also, you missed the other part, the exact error. what are you getting instead
17:12  sp1k3: i think the command is to old but whats the new
17:12  greycat: You might start by investigating what "...\"..." means in your non-bash shell.  I really do not know.
17:12 --- ikarus_ is now known as Ikarus
17:14  sp1k3: ist easy i have a ip.txt form my network and all from hand check is hard now i will make a batch file what take the ip from txt and put him to the command line
17:14  greycat: cat ip.txt
17:15  sp1k3: %Results%
17:15  mechbangirc: hi is there a standard procedure for validating switches (optional like -t) given on command line? it would be a mess if i scratch write one up
17:15  greycat: If you're asking us how to read a data file line by line in CMD.EXE or COMMAND.COM, you are in the wrong channel.
17:15  greycat: !faq easily > mechbangirc
17:15  greybot: mechbangirc: http://mywiki.wooledge.org/BashFAQ/035 -- How can I handle command-line arguments (options) to my script easily?
17:16  sp1k3: no thats all ok only the bash make problem
17:16  mechbangirc: greycat: thanks
17:16  greycat: !faq 1 > sp1k3
17:16  greybot: sp1k3: http://mywiki.wooledge.org/BashFAQ/001 -- How can I read a file (data stream, variable) line-by-line (and/or field-by-field)?
17:23  depesz: hi. I have a script, and from within the script I'd like to log everything it outputs to some file, but keep stderr going to stderr.
17:23  greycat: exec >some.file
17:23  depesz: I know I can exec 1>> $LOG_FILE 2>&1
17:23  depesz: but I want stderr to be duplicated
17:23  depesz: any idea on how?
17:24  greycat: stderr has to be copied (written twice), so you would have to start by piping stderr to tee... after that, it gets hard.  fast.
17:25  geirha: 2> >(tee -a "$logfile" >&2)
17:25  greycat: geirha: now how do you re-integrate that with stdout with the correct timing?
17:25  greycat: Or did I overestimate his question?
17:25  depesz: timing is overestimation
17:25  depesz: i just want it both logged.
17:26  depesz: geirha: hmm .. can I use it somehow with exec 1>> trick?
17:26  greycat: exec 1>> some.file 2> >(tee whatever black magic)
17:26  hal: oh fss  - I just can't do this.  greybot , the info you gave was really good, but I still can't get the result I need   find ./ \( -name .svn \) -prune -o \( -type f \) -print -o -exec grep -Hi hello {} \;
17:26  depesz: hmm ... ineresting.
17:26  greycat: but the lines will be intermixed incorrectly
17:26  depesz: greycat: intermixing is (kind of) ok.
17:27  greycat: hal: did you try geirha'a "svngrep" function?
17:27  hal: greybot: well, no, but svn is just an example - I'd like to be able to exclude any directory but also to find a string in the remaining files
17:28  greycat: !learn svngrep svngrep() { find . -name .svn -prune -o -exec grep "$@" /dev/null {} +; }
17:28  greybot: OK, greycat
17:28  greycat: hal: then read every document you can find about -prune and pray for a brain hemorrhage that magically allows you to understand it.
17:28  hal: sorry I meant greycat :)
17:28  greycat: Because nobody understands it.  Not and remain sane.
17:28  hal: hehe
17:28  hal: well, that's a confort :)
17:29  geirha: !forget svngrep
17:29  greybot: OK, geirha
17:29  geirha: !learn svngrep svngrep() { find . -name .svn -prune -o -type f -exec grep "$@" /dev/null {} +; }
17:29  greybot: OK, geirha
--- Log closed Tue Nov 09 20:13:55 2010
