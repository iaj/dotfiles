--- Log opened Wed Dec 22 08:13:10 2010
--- Log opened Wed Dec 22 10:09:28 2010
10:09 --- Users 93 nicks [0 ops, 0 halfops, 0 voices, 93 normal]
10:11 --- Channel #awk was synced in 106 seconds
13:33 --- Vorpal_ is now known as Vorpal
15:13 --- Will| is now known as Will|override
16:57  pr3d4t0r: Good morning.
16:58  cthuluh: 'morning pr3d4t0r 
16:58  pr3d4t0r: cthuluh: :)
18:58  TehLaser: Is there a trick to redirecting the output of awk?
18:58  TehLaser: this seems to work: vmstat -n 1 | awk 'NR > 3 {print 100-$15}'
18:59  TehLaser: but this doesn't: vmstat -n 1 | awk 'NR > 3 {print 100-$15}' > out.txt
19:00  The-Compiler: I don't see why this shouldn't be working
19:01  The-Compiler: TehLaser: is this your real example? Or is there anything which is actually different?
19:01  TehLaser: yes, char for char
19:01  The-Compiler: hmm
19:01  The-Compiler: try awk ... | tee out.txt
19:01  TehLaser: Tried that too, nothing on stdout or in out.txt
19:01  The-Compiler: that's weird, really
19:02  The-Compiler: hmm, what about appending | cat
19:02  TehLaser: no output
19:02  TehLaser: Do I need to escape the > inside the ''?
19:03  TehLaser: hmm, no, then I get awk:    ^ backslash not last character on line
19:04  The-Compiler: oh wait, the output of vmstat is something like a stream, eh
19:04  TehLaser: yes, it is.
19:05  The-Compiler: I didn't get that
19:05  The-Compiler: the output file would get filled when the stream is over
19:05  The-Compiler: hmmm...
19:05  TehLaser: Ah.  It's never over.
19:06  TehLaser: Do I need fflush somewhere?
19:07  The-Compiler: that's what I thought as well
19:07  The-Compiler: but it doesn't help here
19:09  TehLaser: Maybe I need to tell cat or tee or whatever to be unbuffered...
19:09  TehLaser: where does fflush go anyway?
19:11  waldner: print 100-$15; fflush()
19:11  The-Compiler: vmstat -n 1 | while read foo foo foo foo foo foo foo foo foo foo foo foo foo foo bar foo; do [[ "$bar" = [0-9]* ]] && echo $((100-bar)); done
19:11  The-Compiler: :D
19:12  TehLaser: hmm, this works:  vmstat -n 1 | awk 'NR > 3 {print 100-$15; fflush()}' | tee test.txt
19:16 * TehLaser now has a physical, analog cpu meter, yay!
19:56 --- Will|override is now known as Will|
--- Log closed Wed Dec 22 21:38:56 2010
--- Log opened Wed Dec 22 21:39:18 2010
21:39 --- Users 93 nicks [0 ops, 0 halfops, 0 voices, 93 normal]
21:41 --- Channel #awk was synced in 118 seconds
--- Log closed Wed Dec 22 21:47:27 2010
--- Log opened Wed Dec 22 22:02:56 2010
22:02 --- Users 93 nicks [0 ops, 0 halfops, 0 voices, 93 normal]
22:04 --- Channel #awk was synced in 119 seconds
--- Log closed Wed Dec 22 22:28:22 2010
--- Log opened Wed Dec 22 22:33:48 2010
22:33 --- Users 94 nicks [0 ops, 0 halfops, 0 voices, 94 normal]
22:35 --- Channel #awk was synced in 118 seconds
--- Log closed Wed Dec 22 23:27:40 2010
--- Log opened Wed Dec 22 23:33:10 2010
23:33 --- Users 93 nicks [0 ops, 0 halfops, 0 voices, 93 normal]
23:35 --- Channel #awk was synced in 117 seconds
--- Log closed Thu Dec 23 00:00:55 2010
