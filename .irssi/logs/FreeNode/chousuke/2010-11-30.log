--- Log opened Tue Nov 30 15:01:35 2010
15:01 --- Query: Starting query with Chousuke on FreeNode
15:01 iaj: hi :)
15:05 Chousuke: hey
15:05 iaj: hey there
15:05 iaj: sorry for disturbing
15:05 iaj: but do you happen to know a bit of javascript and vimperatorrc?
15:06 Chousuke: all my javascript knowledge comes from reading vimperator/pentadactyl sources
15:07 iaj: hmmm o well you know... i do not know if this goes in the right direction
15:07 iaj: but what Im trying is to get the
15:07 iaj: http://www.learningjquery.com/2006/12/jquerify-bookmarklet
15:07 iaj: that bookmarklet as a command in my vimp
15:07 iaj: so I added the following
15:07 iaj: http://paste.pocoo.org/show/298030
15:08 iaj: and then try to call it by   :js jQuerify()
15:08 iaj: but its not working :(
15:08 Chousuke: I suggest putting it in a javascript file in your plugins folder
15:08 iaj: and then how do I call it?
15:08 Chousuke: and then do :command! somecommand :js pluginname.jQuerify()
15:09 Chousuke: where pluginname is just the name of the .js file
15:09 Chousuke: (without the extension)
15:09 Chousuke: actually hm
15:09 Chousuke: it might have to be plugins.pluginname.whatever
15:09 Chousuke: also there's no need to do jQuerify = ...; you can do function jQuerify() { ... }
15:11 iaj: hmmm
15:11 Chousuke: use javascript completion :)
15:11 iaj: huh? how :)
15:11 iaj: http://paste.pocoo.org/show/298033
15:11 iaj: that's the file
15:11 iaj: I created now in my /plugin
15:11 Chousuke: in dactyl
15:12 Chousuke: or whatever 
15:12 Chousuke: which one are you using?
15:12 iaj: dactyl actually 
15:12 iaj: better ff4 support :O)
15:12 Chousuke: then the folder if /plugins :)
15:12 Chousuke: is
15:12 iaj: so I dropped in plufings
15:12 iaj: plugins
15:12 iaj: ye
15:13 Chousuke: yeah, so now you can access it from dactyl
15:13 Chousuke: try :js plugins.<tab>
15:14 Chousuke: and you can make a custom command for it with :command
15:14 Chousuke: see the help for that
15:14 iaj: ahh thanks man :)
15:14 iaj: one sec I'll set it up
15:15 Chousuke: you could probably add the command from the plugin itself too, saving you from having to save things in the rc file, but whatever :)
15:16 iaj: yeh im doing so :)
15:18 iaj: http://paste.pocoo.org/show/298036
15:18 iaj: something its wrong about its syntax
15:18 iaj: in line 18 it cries
15:19 Chousuke: iaj you can't put dactyl commands in the plugin
15:19 iaj: uh.. it never cried before :)
15:19 iaj: just now I added the bottom part
15:19 Chousuke: the plugin is plain javascript
15:19 Chousuke: dactyl commands aren't javascript
15:19 iaj: i think im sourcing that file
15:19 iaj: could that be why?
15:19 iaj: nah Im not..
15:19 iaj: hmm
15:20 iaj: I never had problems with it (
15:20 Chousuke: the last ine is the problem right?
15:20 Chousuke: just remove it 
15:20 iaj: Sourcing file: /Users/iaj/.pentadactyl/plugins/iaj.js:18: SyntaxError: missing ; before statement
15:20 Chousuke: it's not javascript so you can't have it there.
15:20 Chousuke: yeah
15:21 Chousuke: you'd have to use the dactyl API to add the command using javascript, not the :command command :P
15:21 iaj: ooooooohhhhhhh...
15:21 iaj: im so dumb
15:21 iaj: :\
15:21 iaj: ok so ill add it to my pentarc just?
15:21 iaj: file:///Users/iaj/.pentadactyl/plugins/iaj.js:16: TypeError: document.getElementsByTagName("body")[0] is undefined
15:21 iaj: oh
15:21 iaj: because empty page
15:21 iaj: I assume
15:22 Chousuke: perhaps.
15:22 iaj: file:///Users/iaj/.pentadactyl/plugins/iaj.js:16: TypeError: document.getElementsByTagName("body")[0] is undefined
15:22 iaj: :(
15:23 Chousuke: try changing it to window.document
15:23 iaj: for that issue id just run firebug
15:23 iaj: and do the console?
15:23 Chousuke: though?
15:23 Chousuke: -though.
15:24 Chousuke: so er, what?
15:24 iaj: file:///Users/iaj/.pentadactyl/plugins/iaj.js:16: TypeError: window.document.getElementsByTagName("body")[0] is undefined
15:24 Chousuke: I have no idea why you get that.
15:24 Chousuke: except that the "document" might not be available to the plugin directly
15:25 iaj: hmm yeah but<   var s=document.createElement('script');
15:25 iaj: is working without any error
15:25 iaj: so what the heck
15:26 Chousuke: hmm
15:26 Chousuke: I suppose it's not finding any <body> tags
15:26 iaj: did you try it and its working for you
15:27 iaj: b java
15:27 iaj: ops
15:28 Chousuke: Yeah I get the same problem
15:29 iaj: Mhh I tried in firebug its working fine there
15:30 iaj: that's pretty strange -_-
15:30 iaj: i thought that should work gnaaa...
15:31 Chousuke: it does return something
15:31 Chousuke: it's just the d[0] that fails
15:32 Chousuke: where d = hte whole thing before [] :P
15:32 Chousuke: I have no idea how to fix that
15:32 Chousuke: you'll have to ask on the channel
15:32 iaj: hehe... damn.. well at least I learned a fair bit :)
15:32 iaj: thanks Chousuke :)
15:37 iaj: hm btw.. which Plugins do you use
15:37 iaj: and is Dactyl crashing for you when you're using flash?
15:38 Chousuke: no.
15:38 Chousuke: but I'm using 4.0b7
15:38 Chousuke: and I only use the noscript integration plugin
15:39 iaj: noscript is doing what exactly :)
15:39 iaj: thanks.
15:41 iaj: im using 4.0b8
15:41 iaj: maybe that's y:)
15:41 Chousuke: might be.
--- Log closed Tue Nov 30 15:47:37 2010
--- Log opened Tue Nov 30 22:31:56 2010
22:31 --- Query: Starting query with Chousuke on FreeNode
22:31 iaj: lo there
22:32 iaj: you still up?
22:32 Chousuke: yeah
22:33 iaj: so it was
22:33 iaj: content.document
22:34 iaj: just for your interest :)
22:35 Chousuke: ah
22:36 Chousuke: make sense. the js is executed in chrome context so document would be firefox itself I guess. 
22:37 iaj: ;-)
--- Log closed Tue Nov 30 22:42:31 2010
