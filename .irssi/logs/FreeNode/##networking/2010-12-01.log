--- Log opened Wed Dec 01 12:42:17 2010
12:42 --- Users 286 nicks [0 ops, 0 halfops, 12 voices, 274 normal]
12:42 --- Channel ##networking was synced in 1 seconds
12:43  iaj: lo there im on a mac and getting disced a lot of times... i thought its my isp - but its happening at home (wlan) and @work (cable) a lot... can't even ping google.de then - however.. i just checked another machine here.. when im not able to ping - i can't ping on the other machine either.. so its both a isp problem?
12:43  MACscr: try pinging each other
12:43  MACscr: or the router
12:46  iaj: the ip of the router - how could I simply find that one out?
12:47  MACscr: open up your terminal and enter: ifconfig
12:47  MACscr: should be listed as your gateway
12:47  MACscr: should be something like 192.168.1.1, but could be different
12:50  tiny: Hi! I have a cisco based (vpnc) access to a remote linux box. This box is multihomed/has other NICs. I would like to access those other networks "directly". Should I create VPN inside existing VPN?
12:50  adaptr: no
12:50  adaptr: the profile needs to be modified to allow the client access to those other networks
12:51  blez`: I wonder on what connections libpcap won't work
12:51  tiny: adaptr: what id that is not an option?
12:51  blez`: in what cases
12:51  tiny: if*
12:51  adaptr: tiny: does the linux box route between the interfaces ?
12:51  iaj: MACscr: i got:         inet 192.168.0.144 netmask 0xffffff00 broadcast 192.168.0.255  as a response there for en1.
12:51  tiny: adaptr: that linux box is under my control ... so yes
12:52  adaptr: if modifying the tunnel profile is not an option, thenyou could try to NAT. it's dirty, but should work
12:52  adaptr: some iptables fu is recommended
12:52  MACscr: iaj: whoops, my bad, that wont give you your gateway, but its pretty much certain its 192.168.0.1
12:52  iaj: MACscr: that it isn't:)
12:53  tiny: adaptr: i see .. so i should NAT already at client point?
12:54  adaptr: no, on the box
12:54  adaptr: NAT the ip-on-different-interface-you-need to an IP that you CAN access through the tunnel
12:54  adaptr: you have to give up one or more addresses on the tunnel for this, obviously
12:58  tiny: adaptr: ok, thank, I'll google some more on the concept since i'm not quite clear on what to do ... espec. on client side.
12:58  adaptr: nothing
12:58  adaptr: you said you can't do anything on the client side
13:00  tiny: adaptr: i see ... so you ment I should change my local vpnc profile? I already did that but access on VPN gw is locked.
13:01  adaptr: tiny: there is no such thing as a "local VPN profile"
13:01  tiny: adaptr: locked to certain subnet ... I suspect even on 1 IP / the one I have access to (linux box)
13:01  adaptr: a cisco VPN is pushed from the concentrator
13:01  adaptr: tiny: the client will show you that.
13:07  tiny: adaptr: ok thanks, I believe I understand now, I should NAT all connections over  IP that I can connect (remote linux box)  to subnet I'm interested in.
13:09  adaptr: no, not all, or you cannot connect to the network that the VPN IS intended for
13:10  adaptr: you need to decide which ones you can subsume with NAT
13:26  tiny: adaptr:  so every  "ip-on-different-interface-I-need" will be represented with one address on tunnel side?
13:27  adaptr: unless you know which services you need and you can do PAT, to preserve tunnel IPs
13:27  adaptr: it's pretty much up to you
13:29  tiny: adaptr: cool, thanks for clearing it up
13:29  adaptr: np
13:31  tiny: adaptr: btw, why not VPN over VPN? (layer 3)  Just curious since I've never done this
13:31  adaptr: why make things more complicated than they have to be
13:34  frogzoo: job security
13:36  hali: stupid
13:37  hali: your excellent tech and documentation skills should be reason enough to keep you as an employee, if you feel you need to overcomplicate things just to keep your job, perhaps flipping burgers is more your thing
13:39  adaptr: hali: you can't complicate that! how will you have burger security ?
13:42  frogzoo: yes, with no security, you'll be burgered
13:43  hali: im sad to hear you worry about that
13:44  frogzoo: don't get too sad, I'm less than completely serious
--- Log closed Wed Dec 01 13:56:45 2010
--- Log opened Wed Dec 01 13:57:40 2010
13:57 --- Users 285 nicks [0 ops, 0 halfops, 12 voices, 273 normal]
13:59  adaptr: tiny: that sucks
13:59  tiny: hehe, yes
13:59  adaptr: the next step is complicated: set NAT on both sides of the tunnel and figure out how to inherit the correct NAT IP for the services you need, both on the boxes you can access now and the ones you want to
13:59  tiny: ttyl
14:00  tiny: hmmm
14:00  adaptr: good luck
14:00  adaptr: iptables fu required, I think :)
14:00  tiny: thanks ... will look into it
14:01  Milos|Laptop: Why is IPv6 so all over the place.
14:01  adaptr: it's everywhere!
14:01  Milos|Laptop: You ping it. It takes like 3 years to respond and sometimes it doesn't.
14:01  adaptr: it's everywhere!
14:01  adaptr: sorry, bufferfail
14:01  Milos|Laptop: Is that normal?
14:01  Milos|Laptop: Hahah
14:01 --- Channel ##networking was synced in 254 seconds
14:03  Milos|Laptop: just out of curiousity
14:03  Milos|Laptop: how many IPv6ers in this channel, who have read my message obviously
14:04  Milos|Laptop: and oh my
14:04  Milos|Laptop: I just thought of something
14:05  Milos|Laptop: what are IPv6 hostnames going to look like...
14:05  Milos|Laptop: ace-34-ca-acac6ac-65ac35--aceda-5-45acd345--14534654ac4253-644536-accae.comcast.com
14:06  adaptr: DEADBEEF-DEADBEEF-DEADBEEF-DEADBEEF-DEADBEEF-DEADBEEF-DEADBEEF-00000001
14:11  Milos|Laptop: lold
14:16  andrew_: hello all
14:18  andrew_: i'm giving some thought to ditching dsl in my area and hopping on the verizon 4g bandwagon for a go. however, the only modems available for launch seem to be of the usb variety. could anyone point me at some resources which outline how to use a usb modem to provide inet access for an entire home network?
14:20  chicko: im from South Africa andrew_ and we have a million times more 3g users than we have dsl subscribers
14:20  chicko: ive used Vodafone usb dongles and the piece of sheit disconnects so much
14:20  chicko: i really don't know if you would be a happy camper if you went that way, but for lots of documentation you're welcome to visit http://mybroadband.co.za/vb/
14:21  chicko: quite a large forum with 1225 users online at the moment
14:22  andrew_: thanks ill have a look
14:22  chicko:  hope you get helped
14:23  adaptr: SNIP
14:24  gagiel: which is in charge of reassembling in ip tunnel? enter part or exit part router?
14:24  adaptr: um
14:24  adaptr: a sender can hardly RE-assemble packets, can it ?
14:25  gagiel: what about sender -> entrance route -> tunnel -> exit route -> dest receiver?
14:26  gagiel: i cannot find through wiki or something alike.
14:28  hooks: Hello guys. I have a question. If i have a class C network (198.168.0.0). How many bits do i need to make 6 subnet?
14:29  gagiel: 3
14:30  hooks: thats that was what i thought, just wanted to make sure that i got it right :p
14:30  hooks: thanks
14:31  FlashDeluxe: hi! i want to make a route through my router with the ip 192.168.5.1 to the client 192.168.5.18, but if i execute the command route add 192.168.5.18 gw 192.168.5.1 it says that the network is not reachable, although i can ping 192.168.5.1
14:31  FlashDeluxe: can somebody help me?
14:33  hooks: How can i figure out what the subnetmask for subnet #4 should be? (198.168.0.0)
14:33  adaptr: by writing it down and figuring it out
14:36  devdvd: FlashDeluxe, what is the ip address of the machine you are trying to add the route on
14:36  devdvd: hooks, your question makes no sense at all
14:36  Milos|Laptop: chicko, it works flawlessly for me :-)
14:37  FlashDeluxe: devdvd: it is 192.168.5.66
14:37  FlashDeluxe: on tun0
14:38  Milos|Laptop: maybe add tun0 at the end?
14:38  Milos|Laptop: I'm pretty sure the last parameter is the device.
14:38  devdvd: yea, what Milos said, if that dont work then verify that 5.1 can actually route traffic
14:39  FlashDeluxe: doens`t work, same error
14:39  devdvd: FlashDeluxe, what is the gateway on 5.66?
14:40  Milos|Laptop: o_O I didn't quit
14:40  devdvd: the peer never lies Milos|Laptop
14:40  Milos|Laptop: :D
14:40  devdvd: :)
14:41  Milos|Laptop: ummm regards to the issue
14:41  Milos|Laptop: I think you first need to add the host
14:41  Milos|Laptop: ... this is from my horrible memory of untangling routes
14:41  Milos|Laptop: something like, route add host 192.168.5.28 tun0?
14:41  FlashDeluxe: default gw is my dom0 with the ip 192.168.42.1
14:41  Milos|Laptop: I mean 18.
14:42  devdvd: you're trying to go across a vpn tunnel
14:42  FlashDeluxe: yes i do
14:43  FlashDeluxe: Milos|Laptop i cant ping -I tun0 192.168.0.18 so this wouldn`t work i think
14:43  devdvd: if you have a machine with an ip of 5.66 and you are trying to get to 5.18
14:43  devdvd: you dont even need a gateway nor will the machine use one...
14:43  devdvd: well,
14:43  devdvd: wait
14:43  Milos|Laptop: o-o
14:44  FlashDeluxe: but i doesn`t work, so something has to be wrong :(
14:44  Milos|Laptop: so you mean you can't ping it at all?
14:44  FlashDeluxe: yes
14:44  Milos|Laptop: oh right
14:44  FlashDeluxe: but i can ping 192.168.5.1
14:44  Milos|Laptop: I misread, you said you can ping 5.1
14:44  Milos|Laptop: yeah
14:45  FlashDeluxe: but i cannot ping 192.168.5.18, whete
14:45  devdvd: FlashDeluxe, is this a /24?
14:46  devdvd: or abov
14:46  devdvd: ee
14:46  Milos|Laptop: FlashDeluxe, ah, it's rather confusing. Give the command I gave you a go, just to be sure.
14:46  AdvoWork: this may sound silly, but when wiring a patch panel, the cat5's coming in, how much of the plastic cover should you cut off, or doesnt it matter, im thinking an inch or so?
14:46  FlashDeluxe: dedvd: its a /32
14:46  Milos|Laptop: yeah it's just one IP
14:46  Milos|Laptop: or is he asking about the subnet
14:46  devdvd: i understand that...i mean the subnet
14:46  Milos|Laptop: :)
14:47  FlashDeluxe: Miloa|Laptop: no doesn`t work
14:47  Milos|Laptop: FlashDeluxe, what error?
14:47  FlashDeluxe: Miloa|Laptop: the route was added but i cant ping
14:47  Milos|Laptop: FlashDeluxe,  good
14:47  Milos|Laptop: FlashDeluxe, now you add the other one
14:48  FlashDeluxe: mhh ok
14:48  FlashDeluxe: same error
14:48  Milos|Laptop: did you try with and without tun0?
14:48  devdvd: im thinking 1 of 2 possibilities here. 1. you are in the wrong subnet and since you cant get to 5.1 without the default gateway then you wont be able to get to 5.18 or 2 and this is far more likely, there is either a setup issue or an acl on the vpn device preventing you from reaching it
14:49  FlashDeluxe: Milos|Laptop: yep
14:49  Milos|Laptop: yeah, because what I gave you should have worked if you didn't have issue #2 as stated above
14:50  Milos|Laptop: but then again it might just be something unknown that we as people on the other side of the world don't know about your setup
14:50  Milos|Laptop: routing can be very difficult to troubleshoot...
14:50  FlashDeluxe: Milos|Laptop: thats why i am here ;)
14:50  Milos|Laptop: ;)
14:51  devdvd: well, im betting that's what it is Milos|Laptop, if his netmask on his local pc is /32 (255.255.255.255) then there's a good chane he has been set on the vpn device to only be allowed to certain hosts
14:51  devdvd: FlashDeluxe, you trying to bypass your corporate network security?
14:51  Milos|Laptop: LOL
14:52  FlashDeluxe: devdvd: nope, it works with other clients, maybe its a problem that this client is a domU
14:52  FlashDeluxe: so maybe theres an iptable rule on the dom0
14:52  FlashDeluxe: but
14:52  devdvd: FlashDeluxe, check the other clients, see wha thier subnet mask is
14:53  devdvd: and a firewall rule wouldnt return unreachable
14:53  Milos|Laptop: yeah I was just thinking that
14:53  Milos|Laptop: it wouldn't return anything
14:53  Milos|Laptop: it would just drop it
14:53  Milos|Laptop: timed out
14:54  FlashDeluxe: it is the /32, but i wonder why i can ping and acess my router (192.168.5.1) but not the client :( i can ping and acess the client(192.168.5.18) from router
14:54  Milos|Laptop: hmm
14:54  Thuryn: indeed
14:54  Milos|Laptop: ^ lold
14:55  Milos|Laptop: I can't imagine it in my head properly enough to understand :\
14:57  devdvd: FlashDeluxe, there's a rule blocking it
14:57  devdvd: are you the admin of the vpn server?
14:58  FlashDeluxe: yes
14:58  devdvd: then fix your vpn server
14:58  Thuryn: ha
14:58  Thuryn: at first i was like :|
14:58  Thuryn: but then i loled
14:59  Milos|Laptop: ^ this guy
14:59  jimbauwens: Can anyone here see if they can ping me? ping d51538632.access.telenet.be
14:59  jimbauwens: Thanks :)
14:59  Milos|Laptop: jimbauwens, ping.eu?
14:59  devdvd: cuz im willing to bet real monopoly money that's where the problem lies
15:00  FlashDeluxe: devdvd: the server works fine
15:00  Milos|Laptop: jimbauwens, or network-tools.com
15:00  devdvd: FlashDeluxe, there is most likely a configuration issue on the server. at this point I highly doubt the issue is at the client level
15:00  jimbauwens: Thanks :)
15:01  Milos|Laptop: FlashDeluxe, when you say "the server works fine" what do you mean?
15:03  FlashDeluxe: Milos|Laptop: I mean that i have several other clients, which can ping each other without a problem
15:03  AdvoWork: does anyone know if its T568B or T568A for cat5e?
15:03  AdvoWork: on a patch panel?
15:03  Milos|Laptop: and those clients go through the same router?
15:03  Milos|Laptop: or what?
15:03  Milos|Laptop: because if they did then why can't you?
15:03  Milos|Laptop: s/did/can/
15:04  psychoschlumpf: AdvoWork: depends... usually a network is either A or B
15:04  mAniAk-_-: AdvoWork: B usually
15:04  AdvoWork: hmm, just wired a cable up, and it doesnt seem to work(to T568B anyway
15:04  Milos|Laptop: "usually a network is either A or B"? is there a C?
15:05  FlashDeluxe: Milos|Laptop: as i said, thats why i am here..the other clients go through the same router
15:05  jimbauwens: Milos|Laptop, Thanks, I can ping myself
15:05  Milos|Laptop: jimbauwens, you're welcome ;-)
15:06  Milos|Laptop: FlashDeluxe, then you don't need to add any routes to your router if other clients can go through the router.
15:06  Milos|Laptop: FlashDeluxe, so it's not a routing issue.
15:06  Milos|Laptop: FlashDeluxe, that is, if the information you've given us is correct.
15:06  FlashDeluxe: Milos|Laptop: i get the error network not reachable, as said above, but i can ping that network, thats actually my problem
15:07  Milos|Laptop: FlashDeluxe, so you can ping 2.XX but you can't ping 2.18?
15:10  devdvd: FlashDeluxe, find a client who can ping you then see if you can ping them
15:10  devdvd: also, can you not access any machines or just that one?
15:11  Milos|Laptop: yeah I was hoping to find that out
15:11  Milos|Laptop: he said "but i can ping that network"
15:11  Milos|Laptop: hene my unanswered question above
15:11 +Kevin`: ping working means two-way communication is working. when you can't ping in the other direction it's usually a firewall problem
15:11  Milos|Laptop: s/hene/hence/
15:13 +Kevin`: you did get someone to answer "yes" to pinging you, right?
15:14  FlashDeluxe: i can ping my router and my router can ping my destination client
15:14  devdvd: Kevin`, FlashDeluxe but can you ping any other client on the other side of that router
15:14  devdvd: errr
15:14  devdvd: sorry for adding your name there kevin
15:14  devdvd: i was gonna say something to you but got sidetracked
15:15  Milos|Laptop: lksjdfdl;jg
15:15  FlashDeluxe: yes i can
15:15  Milos|Laptop: FlashDeluxe, can you ping 2.XX where XX is anything but 18
15:16  devdvd: FlashDeluxe, is .18 a linux host?
15:16  Milos|Laptop: oops, have I been using the wrong subnet? did oyu mean 5.18? but either way, you understand me, I hope.
15:17  FlashDeluxe: Milos|Laptop: i dont know, because at the moment theres nobody online with 5.XX
15:17  Milos|Laptop: well
15:17  FlashDeluxe: Milos|Laptop: ibut
15:17  Milos|Laptop: ubut
15:17  FlashDeluxe: Milos|Laptop: i can ping other clients with adresses 192.168.0.XX in the vpn
15:18 * Milos|Laptop mind explodes
15:18  Milos|Laptop: I'm lost in your setup, I can't imagine it
15:18  devdvd: FlashDeluxe, what os is .18
15:19  FlashDeluxe: Linux
15:19  FlashDeluxe: debian minimal
15:19  FlashDeluxe: (all clients are running on linux)
15:20  devdvd: on .18 run tcpdump src host 192.168.5.66
15:20  devdvd: then try pinging .18 from .66
15:20  devdvd: see if the packets are even getting there
15:20  devdvd: that will tell you if its a firewall on .18 or a vpn server configuration issue, possibly an acl
15:21  Milos|Laptop: that's good thinking
15:22  FlashDeluxe: on .18 theres nothing
15:22  FlashDeluxe: oh f***, wait
15:22  Milos|Laptop: :l
15:22  FlashDeluxe: i captured eth0
15:23  Milos|Laptop: lold
15:23 +Kevin`: 'not port 22'
15:23  FlashDeluxe: ok
15:23  FlashDeluxe: i get something
15:23  FlashDeluxe: 15:22:32.593271 IP 192.168.5.66 > 192.168.5.18: ICMP echo request, id 8493, seq 1, length 64
15:23  devdvd: ok
15:23  devdvd: now we're getting somewhere!
15:24  Milos|Laptop: so it is a routing issue?
15:24  devdvd: do you see anything that looks like IP 192.168.5.18 > 192.168.5.66: ICMP e
15:24  devdvd: is there a firewall on .18?
15:24  FlashDeluxe: no its just onesided
15:24  Milos|Laptop: iptables I'm guessing
15:24  Milos|Laptop: how else would it route
15:24  devdvd: iptables -L -vn
15:25  FlashDeluxe: on .18 or .66?
15:25  Milos|Laptop: the router
15:25  devdvd: on .18
15:25  chicko: i hate my country >.<
15:25  Milos|Laptop: I get marvellous 3G here ;)
15:26  devdvd: iptables -I INPUT 1 -j ACCEPT
15:26  devdvd: iptables -I FORWARD 1 -j ACCEPT
15:26  devdvd: iptables -I OUTPUT 1 -j ACCEPT
15:26  devdvd: if there are any rules displayed in iptables -L -vn
15:27  Milos|Laptop: devdvd, just for the record, if you're using -I without a digit it will automatically go up top
15:27  devdvd: Milos|Laptop, I know, i'm just old and set in my ways
15:27  Milos|Laptop: ah right
15:28  Milos|Laptop: but anyway FlashDeluxe do you have an iptables rules?
15:28  FlashDeluxe: on .18 there are no rules
15:28  Milos|Laptop: s/an/any/
15:28  devdvd: can .18 ping .5 ?
15:28  devdvd: errr
15:28  devdvd: .1 i mean
15:28  FlashDeluxe: and on .66 there are no rules, too
15:28  devdvd: well
15:28  devdvd: at this point
15:29  FlashDeluxe: yes it can ping 5.1
15:29  FlashDeluxe: both can ping it
15:29  devdvd: we know the problem isn't on .66
15:29  devdvd: there is something preventing .66 from reaching .5
15:29  devdvd: errr
15:29  devdvd: .18 from reaching .66
15:29  devdvd: sorry
15:29  devdvd: too early in the morning to deal with multiple numbers
15:29  Milos|Laptop: it's 3:30am here, I'm insane.
15:30  devdvd: can .18 reach anything on the other side of the tunnel?
15:30  FlashDeluxe: devdvd: listen, .66 is running on a domU, and the dom0 has iptable rules
15:31  FlashDeluxe: yes it can reach the 192.168.0.XX net, just as .66
15:31  FlashDeluxe: here it is 3.30pm^^
15:31  devdvd: ok then check the rules on dom0 then
15:32 +Kevin`: you guys are checking/checked the routing rules, right?
15:32  Milos|Laptop: other clients can access it fine
15:32  Milos|Laptop: so the routing rules shouldn't have a problem...
15:32  Milos|Laptop: at least, that's what I've been told
15:33  devdvd: actually FlashDeluxe
15:33  devdvd: has nothing to do with firewall rules on dom09
15:33  devdvd: 0
15:33  devdvd: because you can ping .18 from .66 BUT nothing is going bck out
15:33  FlashDeluxe: http://pastebin.ubuntu.com/538667/
15:33  devdvd: which means that .18 dont have a path back
15:33  FlashDeluxe: that are the rules on dom0
15:33 +Kevin`: if i'm gonna look at that I want it in iptables-save format
15:33  devdvd: try adding the route on .18
15:34  FlashDeluxe: devdvd: ok
15:34 +Kevin`: try pasting the routes more like
15:34  Milos|Laptop: isn't that what we were just doing??
15:34  Milos|Laptop: and yes pasting would be a good idea.
15:34  FlashDeluxe: like this?
15:34  devdvd: Milos|Laptop, no, he was trying to add the route on .66 which didnt need it
15:34  FlashDeluxe: route add 192.168.5.66 gw 192.168.5.1 tun0
15:34  Milos|Laptop: devdvd, oh then I was mistaken... I thought he was doing it on the router.
15:35  devdvd: does .18 get to 5.1 through tun0?
15:36  FlashDeluxe: yes
15:37  FlashDeluxe: if i want to make 'route add 192.168.5.66 gw 192.168.5.1 tun0' i get SIOCADDRT: No such process
15:38  Milos|Laptop: so add the host
15:38  Milos|Laptop: it has to exist before you try and add a route through it
15:39 +Kevin`: why are you adding a route to a host using the same subnet as the host
15:39  Milos|Laptop: I completely missed that. Yeah, that wouldn't require a route.
15:39  FlashDeluxe: Milos|Laptop: works :)
15:40  Milos|Laptop: Wait, what works now?
15:40 +Kevin`: except he got an error when he tried to add it, which means the subnet is missing
15:41  FlashDeluxe: i can ping
15:41  Milos|Laptop: What really?
15:41  FlashDeluxe: from 18 to 66 and the other way round :)
15:41  Milos|Laptop: That's odd. Maybe I should re-question my subnet logic then. Kevin` ?
15:42  FlashDeluxe: just by this command on .18: route add -host 192.168.5.66 tun0
15:42  Milos|Laptop: I think it's because of the tun0.
15:42  Milos|Laptop: Okay, so I'm lost in this whole process - have we resolved the issue or is there still a problem?
15:42  i0i: Lo, does anyone know what an alternate HTTPS port might commonly be?  (similar to 8000, 81, 8080 for HTTP)
15:43  i0i: so far I've been using things like 1443 and 2443
15:43  FlashDeluxe: everyything is fine :) thanks for your great help Milos|Laptop and devdvd :)
15:43  devdvd: 44301 44302 etc
15:43  devdvd: yay
15:43  Milos|Laptop: FlashDeluxe, oh, fabulous :) So it was a routing issue.
15:43  i0i: devdvd: personal preference or observed practice?
15:44  Milos|Laptop: So the fact that it was the same subnet had to have something to do with the iface, tun0.
15:44  devdvd: personal preference
15:44  Milos|Laptop: FlashDeluxe, just remember... "No such process" = add the host first.
15:44  devdvd: you can use any port you want that isn't in use
15:44  FlashDeluxe: Milos|Laptop: Yeah^^ thanky, man ;)
15:45  Milos|Laptop: FlashDeluxe, except...
15:45  Milos|Laptop: FlashDeluxe, when you reboot, all that will be lost.
15:45 +Kevin`: Milos|Laptop: in this case it tells me "something else is very wrong"
15:45  Milos|Laptop: FlashDeluxe, or if the router is rebooted.
15:45  devdvd: add the route to /etc/rc.local
15:45  devdvd: it will stay
15:46  Milos|Laptop: Kevin`, pfft, maybe. But it can't be too bad.
15:46  devdvd: but the ultimate solution is to find out why 2 ip's in the same subnet can't ping each other
15:46  Milos|Laptop: Just blame the VPN.
15:46  Milos|Laptop: They screw everyone over.
15:46  devdvd: ive seen dumb crap like this before with certain vpn servers though so
15:46  Milos|Laptop: There you go.
15:46  FlashDeluxe: the "clients" are actually "server" which will never be rebooted :) but i will make the entries
15:46  FlashDeluxe: you never know
15:47  Milos|Laptop: They will be rebooted.
15:47  devdvd: FlashDeluxe, ever heard of power failure?
15:47  Milos|Laptop: And when they are you will come running bak.
15:47  Milos|Laptop: s/bak/back/
15:48  devdvd: its a nasty condition that IT administrators all across the world deal with on a daily basis and while its easy to mitigate its often impossible to get rid of fully
15:48  FlashDeluxe: devdvd: ever heard of Uninterruptible Power Supply? :P
15:48  Milos|Laptop: FlashDeluxe, just don't question ANYTHING about how awesome your power system, security, etc, just do it.
15:48  Milos|Laptop: s/question/mention/
15:48  Milos|Laptop: FlashDeluxe, I'm serious. Just be quiet and do it, because it will happen.
15:48  FlashDeluxe: it will happen if i fon`t do it
15:48  devdvd: FlashDeluxe, ups' are great...until the power is down for x+1 where x = the max amount of hours your ups can run on battery
15:49 +Kevin`: the more likely problem is that you'll forget what all of this vpn stuff is about when you reboot the system a year from now
15:49  Milos|Laptop: FlashDeluxe, then when it screws up *you'll* be screwed up.
15:49  Milos|Laptop: EXACTLY what Kevin` said...
15:49  Milos|Laptop: Great point.
15:49  Milos|Laptop: Happens to me all the time.
15:49  FlashDeluxe: Milos|Laptop: cool down^^ i made the entries
15:49 +Kevin`: xen:~# uptime 08:49:46 up 127 days, 13:40,  1 user,  load average: 0.00, 0.02, 0.00
15:50 +Kevin`: not quite there yet. I do too much stuff to it :(
15:50  Milos|Laptop: I was never hot, but this is something you shouldn't argue about. It's just common sense to have a failover backup plan - that is, for the entries to add themselves automatically.
15:51  Milos|Laptop: But all this aside, glad to have helped.
15:52 +Kevin`: hey, I has a question
15:52 * Milos|Laptop listens
15:52 +Kevin`: how can I make linux (and firefox) prefer ipv6 addresses
15:52  devdvd: *wonders if .18 doesn't have a default gateway set* ...since the vpn device is assigning /32 addresses
15:52  Milos|Laptop: Kevin`, remove your IPv4 DNS server? :D
15:53  Milos|Laptop: FlashDeluxe, can you paste the output of `route` on the router?
15:53 +Kevin`: worth a try.
15:53 +Kevin`: Milos|Laptop: no difference
15:53 +LT: Kevin`: is your only v6 connectivity 6to4?
15:53  Milos|Laptop: Kevin`, that happened recently was on my local BIND server I accidentally had it listen on ::1 and then my local PC kept using IPv6 which annoyed me.
15:53 +Kevin`: LT: yes
15:54  Milos|Laptop: s/that/what/
15:54 +LT: your only option is mangling /etc/gai.conf  - glibc prefers native v6, over v4, but v4 over 6to4
15:55 +Kevin`: that's useful by itself, but do you have a reference on what to add?
15:57 +LT: I think it's pretty well commented, you just move the precedence for 2002::/16 around
15:57 +LT: the general thinking I believe is that 6to4 isn't necessarily that reliable and can never be more reliable than the IPv4 transporting it, so v4 is a better choice if it's available
15:58  FlashDeluxe: Milos|Laptop: http://pastebin.ubuntu.com/538676/
16:00  Milos|Laptop: devdvd, ^ default gateway is set, it looks good to me
16:04  devdvd: default         erxlns-eup1.net 0.0.0.0         UG    0      0        0 ppp0
16:05  devdvd: im guessing you cant access anything else on the other side of the tunnel from .18
16:05  Milos|Laptop: because the gateway is external?
16:05 * Milos|Laptop is tired now
16:05  Milos|Laptop: 4:05am...
16:06  devdvd: whatever though, issue resolved
16:06  Milos|Laptop: I guess so.
16:07  FlashDeluxe: devdvd: no, i can acess anything else
16:07  Milos|Laptop: I blame the government.
16:09  Apachez: dont be alarmed
16:09  Apachez: your government is under control
16:09  Milos|Laptop: they just raised our GST to 15% from 12.5%
16:09  Milos|Laptop: I'm outraged.
16:10  Milos|Laptop: although probably not as much as retailers who had to restock eeeeverything.
16:10  devdvd: my country has the greatest government ever...they care about the people, they dont over tax us and our social structure is the best in the world
16:10  devdvd: *snicker*
16:11  Milos|Laptop: like the singular form of the snickers bar?
16:11  devdvd: no, thats like evil laugh cuz everything i just said is total bs
16:11  mAniAk-_-: :P
16:11  Milos|Laptop: haha I know ;D
16:11  gavin__: Hi Folks, can anyone explain to me "telepathstart" protocol? just seen it in a wireshark capture
16:12  Milos|Laptop: goooooooogle
16:12  mAniAk-_-: devdvd: well youre kinda right about the tax, its low compared to sweden
16:12  gavin__: oh.. I have googled.. not much there
16:12  Milos|Laptop: how can you expect us to know more than google
16:13  gavin__: Milos|laptop :thats quite negative isnt it? Typically IRC channels have people specialising in their field and in relation to the channel.. I am just trying to find out more about this so though irc would be a good place
16:16  Milos|Laptop: alright then, sit tight and enjoy the wait
16:17  gavin__: Milos|Laptop: im not like that I will hunt out the answer and research. Have a nice day :)
16:17  Milos|Laptop: o/
16:28  adaptr: silly
16:29  Milos|Laptop: touchÃ©
16:29  [diecast]: is there a 'recommended maximum' length for straight fiber runs as there is for cat6 of 90m for example.
16:30  mAniAk-_-: well no
16:30  [diecast]: didnt think so
16:30  mAniAk-_-: it depends
16:30  Milos|Laptop: attenuation
16:30  mAniAk-_-: on what hardware you use
16:30  [diecast]: right
16:30  mAniAk-_-: wavelengths, cables, lasers etc
16:31  [diecast]: basically it comes down to the devices and their specifications
16:31  Milos|Laptop: the less attenuated with a specific combination of hardware, the longer the 'recommended maximum' will be
16:31  [diecast]: im assuming there is test equipment where i can inspect the cable at each end after installation
16:31  mAniAk-_-: you have a dB budget where you can calculate how long you can reach based on specs on the lasers
16:32  [diecast]: ok, thanks
16:33  Milos|Laptop: ^ that's what IRC is for
16:33  mAniAk-_-: :P
16:34  Milos|Laptop: not expecting us to just sit and talk about some protocol all day. if there's barely any info on it on google then why would we know any better
17:16 --- i0i1 is now known as i0i
17:21 --- unreal_ is now known as unreal
17:29  CMI-DOS: pls can someone tell me which port DNS is on
17:29  CMI-DOS: i would google it but i cant
17:29  CMI-DOS: is it port 53
17:30  hali: yes
17:30  hali: udp generally but you need tcp too
17:31  Ethos: udp for requests, tcp for zone transfers
17:44  bwallen: I'm constantly getting brute force attacked on my Exchange server. So far they've been unsuccessful, but their attacks are becoming more frequent. How can I tell where it comes from, and how can I prevent it from happening?
17:45  adaptr: net stop exchsvr
17:45  bwallen: har dee har har
17:45  bwallen: but seriously, is there anything I can do?
17:47  adaptr: that depends. what firewal do you have ? what kind of ingress restrictions are there on the exchange connection ?
17:47  bwallen: I have a sonicwall firewall. As far as restrictions, I have it so the accounts lockout after so many attempts (5, I think)
17:48  adaptr: no, networking ingress restrictions. you're talking about DDoS, or what ?
17:49  bwallen: I don't think its a DDoS. In the Event Viewer there are just hundreds of failures where someone's trying to log in. The occur several times per second. But this is in no way knocking my network offline
17:49  adaptr: oh. endure it.
17:50  adaptr: you cannot "prevent" people trying to log in. obviously.
17:50  adaptr: if there are bruteforce attacks coming repeatedly form the same source, block those sources in a firewall
17:50  bwallen: I wish there was an easy way that I could block all IP ranges that aren't from the USA
17:50  bwallen: that's the thing, I can't really tell where it's coming from
17:51  adaptr: exchange should have native options for this stuff
17:54  xelister: hi
17:54  CMI-DOS: whats a trigger protocol
17:54  xelister: if I have 2 internet pipes, normal networks (ethernet connected to city LAN, ofcourse I have there own IP)
17:55 --- chadmaynard is now known as chad
17:55  xelister: then how to set that if users go to http://my.com then they will connect to my server via pipe1,
17:55  xelister: but if it does not work then they will be connected with pipe2 (that is from other ISP)
17:55  xelister: is it at all possible
17:56  adaptr: not trivially
17:56  xelister: like, on DNS level - give two IPs of my.com and then computers will try first ip1 and then ip2
17:56  adaptr: DNS order is not guaranteed.
17:56  xelister: or.. on this bgp level...? but that sounds very complex
17:56  adaptr: you'd have to watch the links and update DNS when one geos down
17:56  xelister: adaptr: well, both pipes are equally good
17:56  adaptr: BGP can do it, but you cannot use BGP
17:56  xelister: but will programs, browsers etc, automatically try other IPs if one ip of domain does not work
17:56  adaptr: no
17:57  xelister: or will they show can not connect and just on refresh perhasp choose the other one
17:57  xelister: no? sucks
17:57  adaptr: perhaps
17:57  xelister: sucks donkey balls :<
17:57  xelister: so how to solve this?
17:57  adaptr: not trivially
17:57  lunaphyte_: oh, you're here?
17:57  adaptr: stop following me around, lunaphyte_
17:57  lunaphyte_: sigh.
17:57  xelister: server have 2 ISP connections, but both are like 98% realible, while I need to combine them to get 99.99%
17:57  adaptr: xelister: you have math fail
17:58  xelister: actually it will be 99.96%
17:58  adaptr: yes
17:58  xelister: well, it was just example ;) you get my poin
17:58  xelister: so... how to do it best? :)
17:58  adaptr: but it is untrivial to do unless you have rapid DNS update methods, or you own an AS and run BGP
17:58  xelister: server hosts mostly www over http/https (self-signed) but perhaps also other services (will use DNS)
17:59  adaptr: in fact, impossible to do without either of those
17:59  xelister: well I see 2 other methods to do it
17:59  adaptr: xelister: none of that matters. at all.
18:00  xelister: 1) use 3rd server (with 99.98% uptime, but less "trusted" and less powerfull) as gateway,  ssh -L into it  and if tunnel breakes then reestablish tunnel using other isp
18:00  lunaphyte_: i have a computer, running linux, with 8 ethernet interfaces, all in active use.  i'm trying to figure out how i can determine which physical port corresponds to which logical interface, but without unplugging any cables and looking at status output.
18:00  xelister: downside is higher lag to my server
18:00  xelister: 2) perhaps something to be done with ipv6 tunneling?
18:00  adaptr: xelister: the problem is that that server has a higher avail than you rother lines. which means you should be using that server.
18:01  adaptr: lunaphyte_: how would you want to define the physical port ?
18:01  adaptr: by PCI ID ? PCI slot # ?
18:01  adaptr: MAC ?
18:02  lunaphyte_: adaptr: none, that's the problem.  all i have for correlation is the visual markings on the back of the computer.
18:02  adaptr: 2 quad cards ? 4 duals ?
18:03  adaptr: is this machine plugged into a decent switch ?
18:03  lunaphyte_: 4 on the system board, and 2 2-port cards.
18:03  lunaphyte_: yes, it is.
18:04  adaptr: then it's simple :)
18:04  adaptr: check the MAC tables for the physical ports on the switch, trace the cables back to the computer, and voila
18:04  lunaphyte_: at the moment, i don't have access to the switch.
18:04  lunaphyte_: ah, yes, of course.
18:04 --- FieldySnuts is now known as Fieldy
18:04  lunaphyte_: ok, i can do that once i have access.
18:04  adaptr: well, then it's kind hard
18:04  adaptr: but if it's not a $10 switch, check the MAC tables
18:05  xelister: is it easy to get ipv6? if I setup up some ipv6 tunneling
18:06 +LT: lunaphyte_: ethtool --identify may help if your card supports it
18:07  chad: xelister: ipv6 won't help you at all.
18:07  lunaphyte_: eventually, i'll have access to the network equipment.  clues in the meantime would be helpful.
18:08  lunaphyte_: i'll look into ethtool, thanks.
18:09 +Kevin`: rapid dns update is easy
18:09 +Kevin`: ipv6 is easy too and you should have it anyway, but I don't see the direct relevance to this situation
18:10  xelister: chad: can't I quickly bind my ipv6 address/tunnell to the backup IP of my other ISP?
18:10 +Kevin`: xelister: yes
18:11 +Kevin`: only a few users will be using ipv6 though, until the big crunch in a few months ;p
18:39  mrrothhh: why is it that it won't use at least half of the 10.37 Mbps upload from fios? Colo is 66.08 Mbps down 57.34 Mbps upload and  FIOS is down 36.5 Mbps 10.37 Mbps upload. Backups since last night (started at 3:30 am) using acronis, via FTP (using filiezila server) at about 2.2 Mbps max I saw is 2.4Mbps... Any ideas. CUrrenly it is 1.1 Mbps this morning.
18:39  mrrothhh: FIOS side the server is under a linux firewall / nat router
18:39  mrrothhh: the other side is using it own firewall bulit on to ftp server and direct connection
18:39  mrrothhh: Any ideas
18:40  chad: that sucks
18:41  xelister: is it possible to set up a DNS that I can update rapidly say in 1 minute?
18:41  chad: xelister: yes
18:41  xelister: so all reciving clients will also see the change in 1 minute despite caching?
18:41  chad: xelister: no
18:41  xelister: :{
18:42  xelister: so.. how to protect  mysite.com  from possibility of main internet pipe to server going down (we have backup pipe, but on other public ip)
18:42  chad: xelister: but it can be pretty close to that in 95% of the cases
18:43  xelister: hm... does it sound possible to ask my ISP to grant me bgp to the IP address I "own" from them, so that I could manually reroute my public IP address to be sent to my backup IP address..?
18:43  xelister: like... isp1=1.2.3.4  isp2=9.8.7.6  and when isp1 goes down I use isp2 to somehow get packets sent to isp1 via my isp2 pipe
18:44  xelister: or is that really complex idea
18:45  mrrothhh: bgp
18:45  chad: Do you really own those IPs?
18:45  mrrothhh: heartbeat
18:45  xelister: chad: they are assigned to me from ISP, as static, public IPs
18:46  xelister: perhaps I could ask ISP to really give them more into my "controll"... but is it complex to setup such backup switching even with bgp
18:47  chad: xelister: not really. but you'd have to obtain an AS
18:48  xelister: AS?
18:48  xelister: autonomous system?
--- Log closed Thu Dec 02 15:16:28 2010
